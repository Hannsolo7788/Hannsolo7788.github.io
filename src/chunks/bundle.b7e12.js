System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///AspectRatio-632cb1e9.js",["cc","./CoreModelEvent-3de9f67c.js"],(function(t){"use strict";var e,n,i,r,o,a,s,u,p,h,c,l,d,f,g,_,v,w,y;return{setters:[function(t){e=t.cclegacy,n=t.warn,i=t.log,r=t._decorator,o=t.SpriteAtlas,a=t.ParticleSystem2D,s=t.Component,u=t.Enum,p=t.CCFloat,h=t.UITransform,c=t.Node,l=t.Size,d=t.Vec3},function(t){f=t.k,g=t.f,_=t._,v=t.a,w=t.b,y=t.c}],execute:function(){t("E",void 0),e._RF.push({},"ec60dQwFClHI48a+73zg18d","UtilsHelper",void 0);t("i",(function(t){try{return JSON.parse(t),!0}catch(t){return!1}}));e._RF.pop(),e._RF.push({},"0b2589GLf1JVIHifvthfqpN","GameEventEmitter",void 0);var E=t("G",function(){function t(){this.listeners=new Map}var e=t.prototype;return e.on=function(t,e){this.listeners.has(t)||this.listeners.set(t,[]),this.listeners.get(t).push(e)},e.once=function(t,e){var n=this;this.on(t,(function i(){n.off(t,i),e.apply(void 0,arguments)}))},e.off=function(t,e){var n=this.listeners.get(t);if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}},e.offAll=function(t){this.listeners.delete(t)},e.emit=function(t){var e=this.listeners.get(t);if(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var o,a=f(e);!(o=a()).done;){var s=o.value;s.apply(void 0,i)}}},t}());e._RF.pop(),e._RF.push({},"ece8fqg8xBMapBfXRYi7Brp","I18nManager",void 0);var m,A=t("I",function(){function t(){this._i18nJsonMap=null,this._currentLanguage=t.LanguageType.EN,this._eventEmitter=new E,this._i18nJsonMap=new Map}var e=t.prototype;return e.insert=function(t,e){if(e&&e.json){this._i18nJsonMap.has(t)||(this._i18nJsonMap.set(t,new Map),i("[I18nManager] Adding new language: "+t));var r=this._i18nJsonMap.get(t);for(var o in e.json){var a=e.json[o];r.has(o)?n("[I18nManager] Ignore duplicate: "+o+" \nExisting:"+r.get(o)+" \nNew:"+a):(i("[I18nManager] Add: "+o+" > "+a),r.set(o,a))}this._i18nJsonMap.set(t,r)}else n("[I18nManager] insert skip, [jsonAsset] is empty")},e.hasLanguage=function(t){return this._i18nJsonMap.has(t)},e.changeLanguage=function(e){this._currentLanguage=e,this._eventEmitter.emit(t.EventType.LANGUAGE_CHANGED,e)},e.t=function(t){var e;return(null==(e=this._i18nJsonMap.get(this._currentLanguage))?void 0:e.get(t))||t},g(t,[{key:"Languages",get:function(){return Array.from(this._i18nJsonMap.keys())}},{key:"Language",get:function(){return this._currentLanguage}},{key:"EventEmitter",get:function(){return this._eventEmitter}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}());A._instance=void 0,A.LanguageType={EN:"en-us",CN:"zh-cn"},A.EventType={LANGUAGE_CHANGED:"langauge_changed"},e._RF.pop(),e._RF.push({},"3487auxz/9GgqDce371+K9k","ErrorType",void 0),function(t){t[t.Unknown=-1]="Unknown",t[t.Maintenance=1]="Maintenance",t[t.Unauthorized=2]="Unauthorized",t[t.Suspended=3]="Suspended",t[t.DuplicatedLogin=4]="DuplicatedLogin",t[t.ApiError=5]="ApiError",t[t.ValidationError=6]="ValidationError",t[t.InvalidAuthTokenFailed=7]="InvalidAuthTokenFailed",t[t.InternalUnknownError=8]="InternalUnknownError",t[t.ForbiddenAccess=9]="ForbiddenAccess",t[t.PlayerNotFound=10]="PlayerNotFound",t[t.JwtError=11]="JwtError",t[t.InvalidGameSlug=12]="InvalidGameSlug",t[t.DemoModeNotAvailable=13]="DemoModeNotAvailable"}(m||(m=t("E",{})));var C,F,N,b,R;t("g",(function(t){if(!t||""===t.trim())return m.Unknown;for(var e=0,n=[[m.Maintenance,["maintenance"]],[m.Unauthorized,["unauthorized"]],[m.DuplicatedLogin,["duplicate","login"]],[m.ApiError,["api","error"]],[m.ValidationError,["validation","error"]],[m.InvalidAuthTokenFailed,["invalid","auth","token"]],[m.InternalUnknownError,["internal","unknown","error"]],[m.ForbiddenAccess,["forbidden","access"]],[m.PlayerNotFound,["player","not","found"]],[m.JwtError,["jwt","error"]],[m.InvalidGameSlug,["invalid","game","slug"]],[m.DemoModeNotAvailable,["demo","mode","is","not","available"]]];e<n.length;e++){var i=n[e],r=i[0];if(i[1].every((function(e){return t.toLocaleLowerCase().includes(e)})))return r}return m.Unknown}));e._RF.pop(),e._RF.push({},"07e49lUmeNAgoQnIBoVXV9E","ParticleSystemSpritesheet",void 0);var I,T,k,M,P,S,H,G,D=r.ccclass,V=r.property,L=r.requireComponent,z=t("P",(C=L(z),F=V(o),D(N=C((R=_((b=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).FPS=1/30,w(e,"spriteAtlas",R,y(e)),e._ps=null,e._spriteFrames=null,e._index=0,e._timer=0,e}v(e,t);var n=e.prototype;return n.onLoad=function(){this._ps=this.getComponent(a)},n.start=function(){var t;this._spriteFrames=null==(t=this.spriteAtlas)?void 0:t.getSpriteFrames()},n.update=function(t){this._spriteFrames&&this._ps.particleCount>0&&(this._timer+=t,this._timer>this.FPS&&(this._timer=0,this._index++,this._index>=this._spriteFrames.length&&(this._index=this._index%this._spriteFrames.length),this._ps.spriteFrame=this._spriteFrames[this._index]))},g(e,[{key:"ParticleSystem",get:function(){return this._ps}}]),e}(s)).prototype,"spriteAtlas",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=b))||N)||N));e._RF.pop(),e._RF.push({},"8bd84tyDPpNs6uKmjGAJokR","AspectRatio",void 0);var J,U=r.ccclass,x=r.property,j=r.executeInEditMode;!function(t){t[t.None=0]="None",t[t.WidthControlsHeight=1]="WidthControlsHeight",t[t.HeightControlsWidth=2]="HeightControlsWidth",t[t.FitInParent=3]="FitInParent",t[t.EnvelopeParent=4]="EnvelopeParent"}(J||(J={}));t("A",(I=x({type:u(J)}),T=x({type:p,tooltip:"aspect ratio for the current node",visible:!0}),U(k=j((P=_((M=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,w(e,"aspectRatioType",P,y(e)),w(e,"_aspectRatio",S,y(e)),w(e,"snapInCenter",H,y(e)),w(e,"_isPreview",G,y(e)),e._uiTrans=null,e}v(e,t);var n=e.prototype;return n.onLoad=function(){this._uiTrans=this.node.getComponent(h)},n.start=function(){var t=this;setTimeout((function(){t.updateView()}),.001)},n.onEnable=function(){this.node.on(c.EventType.SIZE_CHANGED,this.updateView,this),this.node.on(c.EventType.ANCHOR_CHANGED,this.updateView,this),this.node.parent.on(c.EventType.SIZE_CHANGED,this.updateView,this),this.node.parent.on(c.EventType.ANCHOR_CHANGED,this.updateView,this),this.updateView()},n.onDisable=function(){this.node.off(c.EventType.SIZE_CHANGED,this.updateView,this),this.node.off(c.EventType.ANCHOR_CHANGED,this.updateView,this),this.node.parent.off(c.EventType.SIZE_CHANGED,this.updateView,this),this.node.parent.off(c.EventType.ANCHOR_CHANGED,this.updateView,this)},n.update=function(t){this.updateView()},n.updateView=function(){switch(this._uiTrans||(this._uiTrans=this.node.getComponent(h)),this.aspectRatioType){case J.None:break;case J.WidthControlsHeight:this._uiTrans.setContentSize(new l(this._uiTrans.width,this._uiTrans.width/this.AspectRatio));break;case J.HeightControlsWidth:this._uiTrans.setContentSize(new l(this._uiTrans.height*this.AspectRatio,this._uiTrans.height));break;case J.FitInParent:var t=this.node.parent.getComponent(h).contentSize,e=t.width/t.height,n=new l(t.width,t.height);e<this.AspectRatio?n.height=t.width/this.AspectRatio:n.width=t.height*this.AspectRatio,this._uiTrans.setContentSize(n),this.snapInCenter&&this.node.setPosition(d.ZERO)}},g(e,[{key:"AspectRatio",get:function(){return this._aspectRatio},set:function(t){this._aspectRatio=t,this.updateView()}},{key:"isPreview",get:function(){return this._isPreview},set:function(t){this._isPreview=t,t&&this.updateView()}}]),e}(s)).prototype,"aspectRatioType",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.None}}),S=_(M.prototype,"_aspectRatio",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=_(M.prototype,"snapInCenter",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=_(M.prototype,"_isPreview",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_(M.prototype,"isPreview",[x],Object.getOwnPropertyDescriptor(M.prototype,"isPreview"),M.prototype),k=M))||k)||k));e._RF.pop()}}}));

System.register("chunks:///CoreModelEvent-3de9f67c.js",["cc"],(function(t){"use strict";var e,n,r,o,i,u,a,c,s,l,f,h;return{setters:[function(t){e=t.cclegacy,n=t.AudioSource,r=t.warn,o=t.Node,i=t._decorator,u=t.Widget,a=t.director,c=t.Canvas,s=t.Component,l=t.assetManager,f=t.resources,h=t.UITransform}],execute:function(){function d(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
d=t("e",(function(){return e}));var e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),u=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var a=S(u,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,u),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var f={};function h(){}function p(){}function v(){}var g={};c(g,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(L([])));m&&m!==n&&r.call(m,i)&&(g=m);var _=v.prototype=h.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,u,a){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,u,a)}),(function(t){n("throw",t,u,a)})):e.resolve(f).then((function(t){s.value=t,u(s)}),(function(t){return n("throw",t,u,a)}))}a(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=v,c(_,"constructor",v),c(v,"constructor",p),p.displayName=c(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,a,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,u,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var u=new b(s(t,n,r,o),i);return e.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},w(_),c(_,a,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=L,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return u.type="throw",u.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function p(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){p(i,r,o,u,a,"next",t)}function a(t){p(i,r,o,u,a,"throw",t)}u(void 0)}))}}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(){return(m=t("g",Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t})).apply(this,arguments)}function _(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,w(t,e)}function w(t,e){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t({_:function(t,e,n,r,o){var i={};Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0);i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0);void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null);return i},a:_,b:function(t,e,n,r){if(!n)return;Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})},c:function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},d:v,e:d,f:y,g:m,k:function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}}),e._RF.push({},"fe6a1VsIJ9Fg4Yoov/hyqKm","AudioManager",void 0);var S,x=t("A",function(){function t(){this._audioSourcesMap=null,this._container=null,this._isMute=!1,this._soundVolume=1,this._audioSourcesMap=new Map}var e=t.prototype;return e.init=function(t,e){void 0===e&&(e=!1),this._container=t,this.IsSoundMute=e},e.stopAll=function(){this._allAudioSources((function(t){return t.stop()}))},e.pauseAll=function(){this._allAudioSources((function(t){return t.pause()}))},e.resumeAll=function(){this._allAudioSources((function(t){return t.play()}))},e.playSfx=function(t,e,r,o){var i=this;if(void 0===e&&(e=!1),void 0===o&&(o=""),t){var u=this._createAudioSource(o),a=u[0],c=u[1];return null!=r&&c.node.once(n.EventType.ENDED,(function(){r&&r(),""==o&&i._removeAudioSource(a)}),this),c.loop=e,c.clip=t,c.play(),a}},e.playSfxAtTime=function(t,e,n,r,o){void 0===o&&(o="");var i=this.playSfx(t,n,r,o);return this._getAudioSource(i).currentTime=e,i},e.playOneShotSfx=function(e,n){(void 0===n&&(n=1),e)&&this._createAudioSource(t.GENERAL_AUDIO_SOURCE_ID)[1].playOneShot(e,n)},e.stopSfx=function(t,e){void 0===e&&(e=!0);var n=this._getAudioSource(t);n||r("[AudioManager] Unable to get audio source id: "+t),n.stop(),e&&this._removeAudioSource(t)},e.pauseSfx=function(t){var e=this._getAudioSource(t);e||r("[AudioManager] Unable to get audio source id: "+t),e.pause()},e.resumeSfx=function(t){var e=this._getAudioSource(t);e||r("[AudioManager] Unable to get audio source id: "+t),e.play()},e.setVolume=function(t,e){var n=this._getAudioSource(t);n||r("[AudioManager] Unable to get audio source id: "+t),n.volume=e},e.getVolume=function(t){var e=this._getAudioSource(t);return e||r("[AudioManager] Unable to get audio source id: "+t),e.volume},e.getAudioSource=function(t){return this._getAudioSource(t)},e._createAudioSource=function(e){var r=e;""==r&&(r="a_"+t.RUNNING_ID++);var i=this._audioSourcesMap.get(r);if(!i){var u=new o(r);(i=u.addComponent(n)).playOnAwake=!1,i.loop=!1,i.volume=this.SoundVolume,this._container.addChild(u)}return this._audioSourcesMap.set(r,i),[r,i]},e._getAudioSource=function(t){return this._audioSourcesMap.get(t)},e._allAudioSources=function(t){this._audioSourcesMap.forEach((function(e,n){t(e,n)}))},e._removeAudioSource=function(t){if(this._audioSourcesMap.has(t)){var e=this._audioSourcesMap.get(t);e.stop(),this._container.removeChild(e.node),this._audioSourcesMap.delete(t)}},y(t,[{key:"IsSoundMute",get:function(){return this._isMute},set:function(t){this._isMute=t,this.SoundVolume=t?0:1}},{key:"SoundVolume",get:function(){return this._soundVolume},set:function(t){this._soundVolume=t,this._allAudioSources((function(e){return e.volume=t}))}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}());x.RUNNING_ID=0,x.GENERAL_AUDIO_SOURCE_ID="a_general",x._instance=void 0,e._RF.pop(),e._RF.push({},"8e23eHBQk1KzonxsBx6NIdk","FullscreenWidget",void 0);var A,E=i.ccclass,L=(i.property,i.requireComponent);t("F",E(S=L(u)(S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this)._widget=null,e}_(e,t);var n=e.prototype;return n.onLoad=function(){this._widget=this.getComponent(u),this.refresh()},n.refresh=function(){if(!this._widget.target){var t=a.getScene().getChildByPath("Canvas").getComponent(c);this._widget.target=t.node}this._widget.isAlignLeft=!0,this._widget.isAlignRight=!0,this._widget.isAlignTop=!0,this._widget.isAlignBottom=!0,this._widget.left=0,this._widget.right=0,this._widget.top=0,this._widget.bottom=0},e}(s))||S)||S);e._RF.pop(),e._RF.push({},"b1705eNga9BnIcA4w5HY9Gh","ResourceManager",void 0),t("R",function(){function t(){this._cacheMap=null,this._cacheMap=new Map}var e=t.prototype;return e.isCache=function(t){return this._cacheMap.has(t)},e.setCache=function(t,e){this._cacheMap.set(t,e)},e.getCache=function(t){return this._cacheMap.get(t)},e.preloadLocalAsset=function(){var t=v(d().mark((function t(e,n,r,o){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,r){var o=Array.isArray(e)?e:[e];f.preload(o,(function(t,e,r){n&&n(t/e)}),(function(e,n){e?r(e):t(n)}))})).then((function(t){return r&&r(t),t})).catch((function(t){return o&&o(t),null}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),e.loadLocalAsset=function(){var t=v(d().mark((function t(e,n,r,o){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,r){var o=Array.isArray(e)?e:[e];f.load(o,(function(t,e,r){n&&n(t/e)}),(function(e,n){e?r(e):t(n)}))})).then((function(t){return r&&r(t),t})).catch((function(t){return o&&o(t),null}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),e.getLocalAsset=function(){var t=v(d().mark((function t(e,n,r,o){var i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=f.get(e))){t.next=6;break}n&&n(1),r&&r(i),t.next=9;break;case 6:return t.next=8,new Promise((function(t,r){f.load(e,(function(t,e,r){n&&n(t/e)}),(function(e,n){e?r(e):t(n)}))})).then((function(t){return r&&r(t),t})).catch((function(t){return o&&o(t),null}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),e.loadRemoteAsset=function(){var t=v(d().mark((function t(e,n,r,o){var i,u,a,c,s,l,f,h=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.configUrl,u=e.bundleUrl,a=e.bundleName,c=e.assetPath,i&&u&&a){t.next=7;break}return o("optionsinvalid"),t.abrupt("return");case 7:return n&&n(0),t.next=10,new Promise((function(t){h.loadBundleConfig(i,(function(e,n){e?(o(e.message),t(null)):t(n)}))}));case 10:if(s=t.sent){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,new Promise((function(t){var e=s[a];if(!e)return o("bundle version not found"),void t(null);h.loadVersionBundle(u,e,(function(e,n){e?(o(e.message),t(null)):t(n)}))}));case 15:if(l=t.sent){t.next=18;break}return t.abrupt("return");case 18:return t.next=20,new Promise((function(t){l.load(c,(function(t,e,r){n&&n(t/e)}),(function(e,n){e?(o(e.toString()),t(null)):(r&&r(n),t(n))}))}));case 20:if(f=t.sent){t.next=23;break}return t.abrupt("return");case 23:r&&r(f);case 24:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),e.loadBundleConfig=function(t,e){l.loadRemote(t,(function(t,n){t?e(t,null):e(null,n.json)}))},e.loadBundle=function(t,e){t?l.loadBundle(t,e):e(new Error("nameOrUrlis empty"),null)},e.loadVersionBundle=function(t,e,n){t?l.loadBundle(t,{version:e},n):n(new Error("nameOrUrlis empty"),null)},e.getBundle=function(t){return t?l.getBundle(t):null},e.removeBundle=function(t){var e=this.getBundle(t);return!!e&&(l.removeBundle(e),!0)},e.isBundleLoaded=function(t){return!!t&&null!=l.getBundle(t)},e.getBundleAsset=function(){var t=v(d().mark((function t(e,n,r,o,i){var u=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,n){var r=u.getBundle(e);r?t(r):u.loadBundle(e,(function(e,r){e?n(e):t(r)}))})).then(v(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,i){e.load(n,(function(t,e,n){r&&r(t/e)}),(function(e,n){e?i(e):(o&&o(n),t(n))}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).catch((function(t){return i&&i(t),null}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}(),e.getBundleScene=function(){var t=v(d().mark((function t(e,n,r,o,i){var u=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,n){var r=u.getBundle(e);r?t(r):u.loadBundle(e,(function(e,r){e?n(e):t(r)}))})).then((function(t){t.loadScene(n,(function(t,e,n){r&&r(t/e)}),(function(t,e){t?Promise.reject(t):o&&o(e)}))})).catch((function(t){i&&i(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}(),y(t,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,e._RF.pop(),e._RF.push({},"545deum8elMfr2IcAq7jiBf","CoreBaseView",void 0);var O=i.ccclass;i.property,t("i",O(A=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).Model=void 0,e.Ctrl=void 0,e._uiTrans=void 0,e}return _(e,t),e.prototype.onLoad=function(){this.Ctrl=this.createNewController(),this._uiTrans=this.node.getComponent(h),this.node.on("init",this.init,this)},e}(s))||A);e._RF.pop(),e._RF.push({},"b9966ocQdhENL9dHxNOgSQb","CoreBaseController",void 0);t("C",(function(t){this._model=void 0,this._model=t}));e._RF.pop(),e._RF.push({},"ced0bN60LlBuLDBExYbj4Dc","CoreBaseModel",void 0);t("h",(function(){}));e._RF.pop(),e._RF.push({},"e50cbZv9q5J/rVpLdUTBkJX","CoreModelEvent",void 0);t("j",function(){function t(){this.handlers=[]}var e=t.prototype;return e.on=function(t){this.handlers.push(t)},e.off=function(t){this.handlers=this.handlers.filter((function(e){return e!==t}))},e.trigger=function(t,e){this.handlers.slice(0).forEach((function(n){return n(t,e)}))},t}());e._RF.pop()}}}));

System.register("chunks:///LegendSlotCoinWin.view-e6f13b36.js",["cc","./CoreModelEvent-3de9f67c.js","./TweenHelper-b35a04c2.js"],(function(e){"use strict";var n,i,t,r,o,u,l,a,p,f,s,c,g,d,b,m,y,x,S,h,_,A,w,W;return{setters:[function(e){n=e.cclegacy,i=e._decorator,t=e.AudioClip,r=e.SpriteFrame,o=e.warn,u=e.Component,l=e.Prefab,a=e.sp,p=e.log},function(e){f=e._,s=e.a,c=e.b,g=e.c,d=e.f,b=e.C,m=e.j,y=e.h,x=e.A,S=e.i,h=e.d,_=e.e},function(e){A=e.D,w=e.C,W=e.w}],execute:function(){var E,R,T,L,B,z,I,v,F,O,C,U,M,N,G,P,k,H,D,j,V,Y,J,X,q,K,Z,Q,$,ee,ne,ie,te,re,oe,ue,le,ae,pe,fe,se,ce,ge,de,be,me,ye,xe,Se,he,_e,Ae,we;e({S:void 0,d:void 0}),n._RF.push({},"6a34bCcLxBHCoJZ3w3PqgiD","SlotUIEnum.global",void 0),function(e){e.EN="en-us",e.CN="zh-cn",e.TW="zh-tw"}(E||(E=e("d",{}))),function(e){e[e.INIT=0]="INIT",e[e.READY_BET=1]="READY_BET",e[e.PLAYING=2]="PLAYING",e[e.STOPPING=3]="STOPPING",e[e.STOPPED=4]="STOPPED",e[e.FREE_GAME_AUTO=5]="FREE_GAME_AUTO"}(R||(R=e("S",{}))),n._RF.pop(),n._RF.push({},"ee83fPodwhNT4gX95EK8afd","SlotUIGameResource",void 0);var We=i.ccclass,Ee=i.property;e("a",(T=Ee({group:{name:"Audio - UI",id:"1"},type:t}),L=Ee({group:{name:"Audio - UI",id:"1"},type:t}),B=Ee({group:{name:"Audio - UI",id:"1"},type:t}),z=Ee({group:{name:"Audio - UI",id:"1"},type:t}),I=Ee({group:{name:"Audio - UI",id:"1"},type:t}),v=Ee({group:{name:"Audio - UI",id:"1"},type:t}),F=Ee({group:{name:"Audio - UI",id:"1"},type:t}),O=Ee({group:{name:"Audio - UI",id:"1"},type:t}),C=Ee({group:{name:"Audio - UI",id:"1"},type:t}),U=Ee({group:{name:"Audio - UI",id:"1"},type:t}),M=Ee({group:{name:"Audio - UI",id:"1"},type:t}),N=Ee({group:{name:"Audio - UI",id:"1"},type:t}),G=Ee({group:{name:"Audio - UI",id:"1"},type:t}),P=Ee({group:{name:"Audio - BigWin",id:"1"},type:t}),k=Ee({group:{name:"Audio - BigWin",id:"1"},type:t}),H=Ee({group:{name:"Audio - BigWin",id:"1"},type:t}),D=Ee({group:{name:"Audio - BigWin",id:"1"},type:t}),j=Ee({group:{name:"Audio - BigWin",id:"1"},type:t}),V=Ee({group:{name:"Audio - 100Spin",id:"1"},type:t}),Y=Ee({group:{name:"Audio - 100Spin",id:"1"},type:t}),J=Ee({group:{name:"Audio - 100Spin",id:"1"},type:t}),X=Ee({group:{name:"Audio - 100Spin",id:"1"},type:t}),q=Ee({group:{name:"Audio - 100Spin",id:"1"},type:t}),K=Ee({group:{name:"Img",id:"2"},type:[r]}),We(((we=function(e){function n(){for(var n,i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return n=e.call.apply(e,[this].concat(t))||this,c(n,"sfxClick",$,g(n)),c(n,"sfxSoftClick",ee,g(n)),c(n,"sfxClose",ne,g(n)),c(n,"sfxToggle",ie,g(n)),c(n,"sfxOpenMenu",te,g(n)),c(n,"sfxBetAmountChanged",re,g(n)),c(n,"sfxNumRolling",oe,g(n)),c(n,"sfxNumRollEnd",ue,g(n)),c(n,"sfxSpinStart",le,g(n)),c(n,"sfxSpinStop",ae,g(n)),c(n,"sfxWinLine",pe,g(n)),c(n,"sfxTurboOn",fe,g(n)),c(n,"sfxTurboOff",se,g(n)),c(n,"sfxBigWin",ce,g(n)),c(n,"sfxBigWinLevelUp",ge,g(n)),c(n,"sfxBigWinEnd_1",de,g(n)),c(n,"sfxBigWinEnd_2",be,g(n)),c(n,"sfxBigWinEnd_3",me,g(n)),c(n,"sfx100SpinStart",ye,g(n)),c(n,"sfx100SpinEnd",xe,g(n)),c(n,"sfxFirework",Se,g(n)),c(n,"sfxFirework2",he,g(n)),c(n,"sfxCoin",_e,g(n)),c(n,"imgBigWinTitles",Ae,g(n)),n}s(n,e);var i=n.prototype;return i.onLoad=function(){n._instance=this.node.getComponent(n)},i.getBigWinTitleImgByLevel=function(e){return e-1>=this.imgBigWinTitles.length?null:this.imgBigWinTitles[e-1]},d(n,null,[{key:"Instance",get:function(){return this._instance||o("GameResource not found in the scene"),this._instance}}]),n}(u))._instance=void 0,$=f((Q=we).prototype,"sfxClick",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=f(Q.prototype,"sfxSoftClick",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=f(Q.prototype,"sfxClose",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=f(Q.prototype,"sfxToggle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=f(Q.prototype,"sfxOpenMenu",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=f(Q.prototype,"sfxBetAmountChanged",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=f(Q.prototype,"sfxNumRolling",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=f(Q.prototype,"sfxNumRollEnd",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=f(Q.prototype,"sfxSpinStart",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=f(Q.prototype,"sfxSpinStop",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=f(Q.prototype,"sfxWinLine",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=f(Q.prototype,"sfxTurboOn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=f(Q.prototype,"sfxTurboOff",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=f(Q.prototype,"sfxBigWin",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=f(Q.prototype,"sfxBigWinLevelUp",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=f(Q.prototype,"sfxBigWinEnd_1",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=f(Q.prototype,"sfxBigWinEnd_2",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=f(Q.prototype,"sfxBigWinEnd_3",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=f(Q.prototype,"sfx100SpinStart",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=f(Q.prototype,"sfx100SpinEnd",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=f(Q.prototype,"sfxFirework",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=f(Q.prototype,"sfxFirework2",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=f(Q.prototype,"sfxCoin",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=f(Q.prototype,"imgBigWinTitles",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=Q))||Z));n._RF.pop(),n._RF.push({},"4f3ebjHnypKFqNGWsL7DucA","SlotUIHelper",void 0);e("c",(function(e){return e<=25?.5:1})),e("b",(function(e){switch(e){case 1:return 5;case 2:return 10;case 3:return 15;case 4:return 20;default:return 5}})),e("g",(function(e,n,i){for(var t=i.map((function(e){return e*n})),r=t.length-1;r>=0;r--)if(e>=t[r])return[r+1,t];return[1,t]})),e("t",(function(e){var n;return""+((null==(n=A.Instance.GameData.me)?void 0:n.currency_symbol)||"")+e})),e("i",(function(e){var n,i=(null==(n=A.Instance.GameData.me)?void 0:n.currency_symbol)||"";return e.replace(i,"")}));n._RF.pop(),n._RF.push({},"d1a54LKgFFP45500qbrEXED","LegendSlotConst.global",void 0);var Re,Te,Le,Be,ze,Ie,ve,Fe,Oe,Ce,Ue,Me,Ne,Ge,Pe,ke,He,De,je,Ve,Ye,Je,Xe,qe,Ke,Ze,Qe,$e,en,nn,tn,rn,on,un,ln,an,pn,fn,sn,cn,gn,dn,bn,mn,yn,xn,Sn,hn,_n,An,wn,Wn,En,Rn,Tn,Ln=e("e",{THIS_GAME_RESOURCE_PREFAB_NAME:"GameResource",THIS_GAME_LOCALIZE_PREFAB_NAME:"GameLocalize",DEFAULT_LANGUAGE:"en-us",LOG_TAG:"[LegendSlot]",HAS_BONUS_FEATURE:!0,MAX_BONUS:60,AUTO_COLLECT_BONUS_DURATION:8,NUM_OF_REELS:5,NUM_OF_ROWS:3,NUM_OF_TOTEMS_PER_REEL:5,NUM_OF_ROWS_HIGHLIGHT:3,PAYLINE_HIGHLIGHT_DURATION:2,REEL_ROLL_TIMES:5,REEL_ROLL_INTERVAL_S:.15,TURBO_SPEED_RATIO:2});e("j",{BGM:"bgm",BGM_BONUS:"bgm_bonus"}),e("V",[1,2,3,4,5]),e("R",[["a","b","c","d","e","f","g","h","y"],["a","b","c","d","e","f","g","h","y"],["a","b","c","d","e","f","g","h","y"],["a","b","c","d","e","f","g","h","y"],["a","b","c","d","e","f","g","h","y"]]),e("h",[["c","d","e","h","g"],["a","a","b","x","d"],["f","g","h","a","x"]]);n._RF.pop(),n._RF.push({},"19b78E6BjROHIc+6kU7IBAF","LegendSlotGameResource",void 0);var Bn=i.ccclass,zn=i.property,In=e("f",(Re=zn(t),Te=zn({group:{name:"Audio - Slot",id:"1"},type:t}),Le=zn({group:{name:"Audio - Slot",id:"1"},type:[t]}),Be=zn({group:{name:"Audio - Slot",id:"1"},type:t}),ze=zn({group:{name:"Audio - Slot",id:"1"},type:t}),Ie=zn({group:{name:"Audio - Win",id:"2"},type:t}),ve=zn({group:{name:"Audio - Win",id:"2"},type:t}),Fe=zn({group:{name:"Audio - Win",id:"2"},type:t}),Oe=zn({group:{name:"Audio - Win",id:"2"},type:t}),Ce=zn({group:{name:"Audio - Win",id:"2"},type:t}),Ue=zn({group:{name:"Audio - Win",id:"2"},type:t}),Me=zn({group:{name:"Audio - Bonus",id:"2"},type:t}),Ne=zn({group:{name:"Audio - Bonus",id:"2"},type:t}),Ge=zn({group:{name:"Audio - Bonus",id:"2"},type:t}),Pe=zn({group:{name:"Audio - Bonus",id:"2"},type:t}),ke=zn({group:{name:"Audio - Bonus",id:"2"},type:t}),He=zn({group:{name:"Audio - Bonus",id:"2"},type:t}),De=zn({group:{name:"Audio - Wild",id:"3"},type:t}),je=zn({group:{name:"Audio - Wild",id:"3"},type:t}),Ve=zn({group:{name:"Audio - Wild",id:"3"},type:t}),Ye=zn({group:{name:"Audio - Wild",id:"3"},type:t}),Je=zn({group:{name:"Audio - Free",id:"4"},type:t}),Xe=zn({group:{name:"Audio - Free",id:"4"},type:t}),qe=zn([l]),Ke=zn([r]),Ze=zn([a.SkeletonData]),Bn(((Tn=function(e){function n(){for(var n,i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return n=e.call.apply(e,[this].concat(t))||this,c(n,"bgm",en,g(n)),c(n,"sfxReelSpinning",nn,g(n)),c(n,"sfxReelLandingList",tn,g(n)),c(n,"sfxExcitingMoment",rn,g(n)),c(n,"sfxHitWildScatterSymbol",on,g(n)),c(n,"sfxWinLarge",un,g(n)),c(n,"sfxWinMedium",ln,g(n)),c(n,"sfxWinSmall",an,g(n)),c(n,"sfxWinTiny",pn,g(n)),c(n,"sfxWinWild",fn,g(n)),c(n,"sfxWinScatter",sn,g(n)),c(n,"bgmBonus",cn,g(n)),c(n,"sfxTriggerBonus",gn,g(n)),c(n,"sfxNumRolling",dn,g(n)),c(n,"sfxNumRollEnd",bn,g(n)),c(n,"sfxBonusVfxAppear",mn,g(n)),c(n,"sfxAddBonusStep",yn,g(n)),c(n,"sfxWild1",xn,g(n)),c(n,"sfxWild2",Sn,g(n)),c(n,"sfxWild3",hn,g(n)),c(n,"sfxWild5",_n,g(n)),c(n,"sfxFreeStart",An,g(n)),c(n,"sfxFreeEnd",wn,g(n)),c(n,"rulesPrefabs",Wn,g(n)),c(n,"imgTotems",En,g(n)),c(n,"imgSkeletonTotems",Rn,g(n)),n}s(n,e);var i=n.prototype;return i.onLoad=function(){n._instance=this.node.getComponent(n)},i.getReelLandingSfx=function(e){return e>=this.sfxReelLandingList.length?this.sfxReelLandingList[0]:this.sfxReelLandingList[e]},i.getWinTierSfx=function(e){switch(e){case 1:return this.sfxWinLarge;case 2:return this.sfxWinMedium;case 3:return this.sfxWinSmall;case 4:return this.sfxWinTiny;default:return null}},i.getImgTotem=function(e){return this.imgTotems.find((function(n){return n.name==e}))},i.getImgTotems=function(e){var n=this;return e.map((function(e){return n.getImgTotem(e)}))},i.getTotemSpine=function(e){return this.imgSkeletonTotems.find((function(n){return n.name==e}))},d(n,null,[{key:"Instance",get:function(){return this._instance||o("GameResource not found in the scene"),this._instance}}]),n}(u))._instance=void 0,en=f(($e=Tn).prototype,"bgm",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nn=f($e.prototype,"sfxReelSpinning",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tn=f($e.prototype,"sfxReelLandingList",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rn=f($e.prototype,"sfxExcitingMoment",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=f($e.prototype,"sfxHitWildScatterSymbol",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),un=f($e.prototype,"sfxWinLarge",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ln=f($e.prototype,"sfxWinMedium",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),an=f($e.prototype,"sfxWinSmall",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pn=f($e.prototype,"sfxWinTiny",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fn=f($e.prototype,"sfxWinWild",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sn=f($e.prototype,"sfxWinScatter",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cn=f($e.prototype,"bgmBonus",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gn=f($e.prototype,"sfxTriggerBonus",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dn=f($e.prototype,"sfxNumRolling",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bn=f($e.prototype,"sfxNumRollEnd",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mn=f($e.prototype,"sfxBonusVfxAppear",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yn=f($e.prototype,"sfxAddBonusStep",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xn=f($e.prototype,"sfxWild1",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Sn=f($e.prototype,"sfxWild2",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hn=f($e.prototype,"sfxWild3",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_n=f($e.prototype,"sfxWild5",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),An=f($e.prototype,"sfxFreeStart",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wn=f($e.prototype,"sfxFreeEnd",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wn=f($e.prototype,"rulesPrefabs",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),En=f($e.prototype,"imgTotems",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rn=f($e.prototype,"imgSkeletonTotems",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qe=$e))||Qe));n._RF.pop(),n._RF.push({},"8594crXJOBI86On07jvr/gC","LegendSlotCoinWin.controller",void 0);var vn=function(e){function n(n){return e.call(this,n)||this}s(n,e);var i=n.prototype;return i.setMaxStep=function(e){this._model.MaxStep=e},i.setStep=function(e){this._model.Step=e},i.getProgress=function(){return this._model.Step/(this._model.MaxStep>0?this._model.MaxStep:1)},i.isEmpty=function(){return this.getProgress()<=0},i.isFull=function(){return this.getProgress()>=1},n}(b);n._RF.pop(),n._RF.push({},"5f5ecA/1axJIb3xHuOhyQ/o","LegendSlotCoinWin.model",void 0);var Fn,On,Cn,Un,Mn=function(e){function n(){for(var n,i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return(n=e.call.apply(e,[this].concat(t))||this)._maxStep=0,n.onStep=new m,n._step=-1,n}return s(n,e),d(n,[{key:"MaxStep",get:function(){return this._maxStep},set:function(e){this._maxStep!=e&&(this._maxStep=e)}},{key:"Step",get:function(){return this._step},set:function(e){if(this._step!=e){var n=this._step;this._step=e,this.onStep.trigger(e,n)}}}]),n}(y);n._RF.pop(),n._RF.push({},"9f01bn/B7NJ5oTj8dApohsO","LegendSlotCoinWin.view",void 0);var Nn=i.ccclass,Gn=i.property;e("L",(Fn=Gn(w),Nn((Un=f((Cn=function(e){function n(){for(var n,i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return n=e.call.apply(e,[this].concat(t))||this,c(n,"collector",Un,g(n)),n}s(n,e);var i=n.prototype;return i.createNewController=function(){return this.Model=new Mn,new vn(this.Model)},i.onLoad=function(){e.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},i.init=function(){},i._setupProperty=function(){},i._setupEvent=function(){},i.setMaxStep=function(e){this.Ctrl.setMaxStep(e)},i.setStep=function(e){this.Ctrl.setStep(e)},i.updateStep=function(){var e=h(_().mark((function e(n,i,t,r){var o,u,l,a=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n,u=0;case 2:if(!(u<o)){e.next=10;break}return l=u<i.length?i[u]:null,this._playCollectVfx(l,t,(function(){p(Ln.LOG_TAG,"Collected +1 bonus step"),a.Ctrl.setStep(a.Model.Step+1),--o<=0&&(null==r||r())})),e.next=7,W(.3);case 7:u++,e.next=2;break;case 10:case"end":return e.stop()}}),e,this)})));return function(n,i,t,r){return e.apply(this,arguments)}}(),i._playCollectVfx=function(e,n,i){x.Instance.playOneShotSfx(In.Instance.sfxBonusVfxAppear),this.collector.playEffect(e,n,(function(){x.Instance.playOneShotSfx(In.Instance.sfxAddBonusStep),null==i||i()}))},i.finishStep=function(){this.Ctrl.setStep(this.Model.MaxStep)},i.getStep=function(){return this.Model.Step},i.resetStep=function(){this.Ctrl.setStep(0)},n}(S)).prototype,"collector",[Fn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),On=Cn))||On));n._RF.pop()}}}));

System.register("chunks:///SlotBaseView-556c9046.js",["./CoreModelEvent-3de9f67c.js","cc"],(function(e){"use strict";var t,c,r,n;return{setters:[function(e){t=e.a,c=e.i},function(e){r=e.cclegacy,n=e._decorator}],execute:function(){var s;r._RF.push({},"e7f954YYNpNhIBWlQBsSr/v","SlotBaseView",void 0);var o=n.ccclass;n.property,e("S",o(s=function(e){function c(){return e.apply(this,arguments)||this}return t(c,e),c}(c))||s);r._RF.pop()}}}));

System.register("chunks:///SlotUIGame.view-8cdf11db.js",["./CoreModelEvent-3de9f67c.js","cc","./TweenHelper-b35a04c2.js","./LegendSlotCoinWin.view-e6f13b36.js","./AspectRatio-632cb1e9.js"],(function(t){"use strict";var n,e,i,o,s,a,r,l,u,c,h,p,_,d,f,g,m,y,b,v,S,I,C,P,A,w,L,B,O,T,E,R,M,k,G,x,V,F,D,N,W,U,H,Y,z,K,j,J,Z,q,Q,X,$,tt,nt,et,it,ot,st,at,rt,lt,ut,ct,ht,pt,_t,dt;return{setters:[function(t){n=t._,e=t.a,i=t.b,o=t.c,s=t.f,a=t.d,r=t.e,l=t.A,u=t.g,c=t.C,h=t.h,p=t.i,_=t.j,d=t.F,f=t.R},function(t){g=t.cclegacy,m=t._decorator,y=t.Component,b=t.Label,v=t.assetManager,S=t.resources,I=t.Prefab,C=t.Node,P=t.Animation,A=t.log,w=t.sys,L=t.error,B=t.instantiate,O=t.warn,T=t.Sprite,E=t.Button,R=t.sp,M=t.input,k=t.Input,G=t.KeyCode,x=t.Vec3,V=t.RichText,F=t.Layout,D=t.macro},function(t){N=t.D,W=t.A,U=t.i,H=t.g,Y=t.a,z=t.w,K=t.c,j=t.z,J=t.u,Z=t.r,q=t.I,Q=t.b,X=t.d,$=t.m},function(t){tt=t.a,nt=t.t,et=t.g,it=t.b,ot=t.c,st=t.L,at=t.S,rt=t.d},function(t){lt=t.i,ut=t.I,ct=t.g,ht=t.E,pt=t.P,_t=t.G,dt=t.A}],execute:function(){t({A:void 0,d:void 0}),g._RF.push({},"9c3461DdfxJYp0giMJel5Ix","App.constant",void 0);var ft,gt,mt,yt,bt,vt,St,It,Ct,Pt,At,wt,Lt,Bt,Ot,Tt,Et,Rt,Mt,kt=t("D","en-us");g._RF.pop(),g._RF.push({},"d309cPfMytEeJ8LLVM6ce+r","App.env",void 0);var Gt,xt=m.ccclass,Vt=m.property,Ft=(ft=xt(),gt=Vt({group:{name:"Demo Mode"}}),mt=Vt({group:{name:"Demo Mode"}}),yt=Vt({group:{name:"Demo Mode"}}),bt=Vt({group:{name:"Demo Mode"}}),vt=Vt({group:{name:"Demo Mode"}}),St=Vt({group:{name:"Demo Mode"}}),It=Vt({group:{name:"Demo Mode"}}),Ct=Vt({group:{name:"Demo Mode"}}),ft((wt=n((At=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,i(n,"isActionDemo",wt,o(n)),i(n,"playerId",Lt,o(n)),i(n,"playerName",Bt,o(n)),i(n,"operatorToken",Ot,o(n)),i(n,"currency",Tt,o(n)),i(n,"language",Et,o(n)),i(n,"isCreateDemoAccount",Rt,o(n)),i(n,"isCheatMode",Mt,o(n)),n}return e(n,t),n}(y)).prototype,"isActionDemo",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lt=n(At.prototype,"playerId",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bt=n(At.prototype,"playerName",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ot=n(At.prototype,"operatorToken",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Tt=n(At.prototype,"currency",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Et=n(At.prototype,"language",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rt=n(At.prototype,"isCreateDemoAccount",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mt=n(At.prototype,"isCheatMode",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pt=At))||Pt);g._RF.pop(),g._RF.push({},"45020JPD1VBk76npySEdfl4","AppAlert.view",void 0);var Dt=m.ccclass,Nt=(m.property,Dt(Gt=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._container=null,n._lblMsg=null,n}e(n,t);var i=n.prototype;return i.onLoad=function(){this._setupProperty()},i._setupProperty=function(){this._container=this.node.getChildByPath("Container"),this._lblMsg=this.node.getChildByPath("Container/lblMsg").getComponent(b),this.hide()},i.isShow=function(){return this._container.active},i.show=function(t){this._container.active=!0,this._lblMsg.string=t},i.hide=function(){this._container.active=!1,this._lblMsg.string=""},n}(y))||Gt);g._RF.pop(),g._RF.push({},"35c6atDtshDYJLk2bxY96vG","AppResource.manager",void 0);var Wt,Ut,Ht,Yt,zt,Kt,jt,Jt,Zt,qt,Qt,Xt,$t,tn=function(){function t(){this._remoteConfig=null}var n=t.prototype;return n.preloadLocalResource=function(){var t=a(r().mark((function t(n,e,i,o){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,i){var o=Array.isArray(n)?n:[n];S.preload(o,(function(t,n,i){e&&e(t/n)}),(function(n,e){n?i(n):t(e)}))})).then((function(t){return i&&i(t),t})).catch((function(t){return o&&o(t),null}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,e,i,o){return t.apply(this,arguments)}}(),n.loadLocalAsset=function(){var t=a(r().mark((function t(n,e,i,o){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,i){var o=Array.isArray(n)?n:[n];S.load(o,(function(t,n,i){e&&e(t/n)}),(function(n,e){n?i(n):t(e)}))})).then((function(t){return i&&i(t),t})).catch((function(t){return o&&o(t),null}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,e,i,o){return t.apply(this,arguments)}}(),n.getLocalAsset=function(){var t=a(r().mark((function t(n,e,i,o){var s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s=S.get(n))){t.next=6;break}e&&e(1),i&&i(s),t.next=9;break;case 6:return t.next=8,new Promise((function(t,i){S.load(n,(function(t,n,i){e&&e(t/n)}),(function(n,e){n?i(n):t(e)}))})).then((function(t){return i&&i(t),t})).catch((function(t){return o&&o(t),null}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(n,e,i,o){return t.apply(this,arguments)}}(),n.preloadLocalAssets=function(){var t=a(r().mark((function t(n,e,i){var o,s=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._remoteConfig){t.next=3;break}return i("remoteConfig invalid"),t.abrupt("return");case 3:return o=[],n.forEach((function(t){var n=new Promise((function(n){s.loadBundle(t,(function(t,e){t?(i(t.message),n(null)):n(e)}))}));o.push(n)})),t.next=7,Promise.all(o);case 7:e&&e();case 8:case"end":return t.stop()}}),t,this)})));return function(n,e,i){return t.apply(this,arguments)}}(),n.preloadRemoteAssets=function(){var t=a(r().mark((function t(n,e,i){var o=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return i("remoteConfigUrl invalid"),t.abrupt("return");case 3:return t.next=5,new Promise((function(t){o.loadBundleConfig(n,(function(n,e){n?(i(n.message),o.RemoteConfig={domain:"",api:"",gametools:"",id:"",loading:null,ui:null,game:null},t(!1)):(o.RemoteConfig=e,t(!0))}))}));case 5:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:e&&e();case 9:case"end":return t.stop()}}),t)})));return function(n,e,i){return t.apply(this,arguments)}}(),n.loadRemoteAsset=function(){var t=a(r().mark((function t(n,e,i,o,s){var a,l,u,c,h=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return s("bundleId invalid"),t.abrupt("return");case 3:if(this._remoteConfig){t.next=6;break}return s("remoteConfig is invalid"),t.abrupt("return");case 6:for(l in a=null,this._remoteConfig)n==l&&(a=this._remoteConfig[l]);if(a){t.next=11;break}return s("Unable to find bundle ["+a+"]"),t.abrupt("return");case 11:return i&&i(0),t.next=14,new Promise((function(t){var n=a.version;if(!n)return s("bundle version not found"),void t(null);var i=e+"/"+a.name;h.loadVersionBundle(i,n,(function(n,e){n?(s(n.message),t(null)):t(e)}))}));case 14:if(u=t.sent){t.next=17;break}return t.abrupt("return");case 17:return t.next=19,new Promise((function(t){u.load(a.prefab_path,(function(t,n,e){i&&i(t/n)}),(function(n,e){n?(s(n.toString()),t(null)):(o&&o(e),t(e))}))}));case 19:if(c=t.sent){t.next=22;break}return t.abrupt("return");case 22:o&&o(c);case 23:case"end":return t.stop()}}),t,this)})));return function(n,e,i,o,s){return t.apply(this,arguments)}}(),n.loadBundleConfig=function(t,n){v.loadRemote(t,(function(t,e){t?n(t,null):n(null,e.json)}))},n.loadBundle=function(t,n){t?v.loadBundle(t,n):n(new Error("nameOrUrl_ is empty"),null)},n.loadVersionBundle=function(t,n,e){t?v.loadBundle(t,{version:n},e):e(new Error("nameOrUrl_ is empty"),null)},n.getBundle=function(t){return t?v.getBundle(t):null},n.removeBundle=function(t){var n=this.getBundle(t);return!!n&&(v.removeBundle(n),!0)},n.isBundleLoaded=function(t){return!!t&&null!=v.getBundle(t)},n.getBundleAsset=function(){var t=a(r().mark((function t(n,e,i,o,s){var l=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,e){var i=l.getBundle(n);i?t(i):l.loadBundle(n,(function(n,i){n?e(n):t(i)}))})).then(a(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,s){n.load(e,(function(t,n,e){i&&i(t/n)}),(function(n,e){n?s(n):(o&&o(e),t(e))}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).catch((function(t){return s&&s(t),null}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,e,i,o,s){return t.apply(this,arguments)}}(),n.getBundleScene=function(){var t=a(r().mark((function t(n,e,i,o,s){var a=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,e){var i=a.getBundle(n);i?t(i):a.loadBundle(n,(function(n,i){n?e(n):t(i)}))})).then((function(t){t.loadScene(e,(function(t,n,e){i&&i(t/n)}),(function(t,n){t?Promise.reject(t):o&&o(n)}))})).catch((function(t){s&&s(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,e,i,o,s){return t.apply(this,arguments)}}(),s(t,[{key:"RemoteConfig",get:function(){return this._remoteConfig},set:function(t){this._remoteConfig=t}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}();tn._instance=void 0,g._RF.pop(),g._RF.push({},"7dcb3TeGiNKOpZ43tgLic1D","App.controller",void 0);var nn,en=m.ccclass,on=m.property;!function(t){t.LOADING="loading",t.PLAYING="playing",t.CHANGE_SETTING="change_setting"}(nn||(nn=t("A",{})));var sn="[LANDING]";Wt=en("AppController"),Ut=on(I),Ht=on(C),Yt=on(C),zt=on(C),Kt=on(Nt),Wt((Zt=n((Jt=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(n=t.call.apply(t,[this].concat(s))||this).activeLogoAnim=null,n.activeLoadingNode=null,n.activeGameNode=null,i(n,"envNode",Zt,o(n)),i(n,"landingContainer",qt,o(n)),i(n,"gameContainer",Qt,o(n)),i(n,"loadingContainer",Xt,o(n)),i(n,"alertView",$t,o(n)),n}e(n,t);var s=n.prototype;return s.onLoad=function(){var t=this.envNode.data.getComponent(Ft);N.Instance.EnvData.isActiveDemo=t.isActionDemo,N.Instance.EnvData.demoAccount={playerId:t.playerId,playerName:t.playerName,playerCurrency:t.currency,langauage:t.language,operatorToken:t.operatorToken,isCreateDemoAccount:t.isCreateDemoAccount,isCheatMode:t.isCheatMode},this.activeLogoAnim=this.landingContainer.children[0].getComponent(P)},s.start=function(){var t=a(r().mark((function t(){var n,e,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this._setupManagers(),t.next=4,this.loadConfig();case 4:return n=this.waitForLandingAnim(),e=this.preloadAssets(),i=this.fetchDataFromServer(),t.next=9,n;case 9:return this._removeLandingNode(),t.next=12,Promise.all([e,i]).catch((function(t){throw t}));case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),L(sn,"Something wrong: ",t.t0),this._errorHandler(t.t0 instanceof Error?t.t0:new Error(t.t0));case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));return function(){return t.apply(this,arguments)}}(),s._setupManagers=function(){var t=localStorage.getItem("audio_on"),n=!t||"1"==t,e=this.node.getChildByName("AudioSource");l.Instance.init(e,!n),A(sn,"Audio is on? ("+n+")")},s.loadConfig=function(){var t=a(r().mark((function t(){var n,e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(sn,"loadConfig start"),n=new Date(document.lastModified).getTime(),e="./config.json?"+n,t.next=5,new Promise((function(t){tn.Instance.loadBundleConfig(e,(function(n,e){n?(L(sn,n),t(!1)):(A(sn,e),tn.Instance.RemoteConfig=e,t(!0))}))}));case 5:N.Instance.EnvData.gameId=tn.Instance.RemoteConfig.id,N.Instance.EnvData.apiUrl=tn.Instance.RemoteConfig.api,N.Instance.EnvData.betHistoryUrl=tn.Instance.RemoteConfig.gametools,N.Instance.EnvData.langauage=kt,W.Instance.ApiBaseUrl=tn.Instance.RemoteConfig.api+"/api",W.Instance.BetHistoryApiBaseUrl=tn.Instance.RemoteConfig.gametools+"/bet-history",A(sn,"loadConfig done");case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.waitForLandingAnim=function(){var t=a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(sn,"waitForLandingAnim start"),t.next=3,this.waitForAnim(this.activeLogoAnim,this.activeLogoAnim.defaultClip.name);case 3:A(sn,"waitForLandingAnim done");case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.preloadAssets=function(){var t=a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(sn,"preloadAssets start"),t.next=3,tn.Instance.preloadLocalAssets(["core"],(function(){A(sn,"Preload Assets Done")}),(function(t){L(sn,t)}));case 3:return t.next=5,this._loadAndShowLoading();case 5:return t.next=7,this._loadAndCreateGame();case 7:A(sn,"preloadAssets done");case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._removeLandingNode=function(){A(sn,"Remove landing node"),this.activeLogoAnim.node.destroy()},s.reloadGame=function(){this._loadAndShowLoading()},s._loadAndShowLoading=function(){var t=a(r().mark((function t(){var n,e,i,o,s=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N.Instance.AppState.state=nn.LOADING,t.next=3,this._waitForLoadBundle("loading");case 3:return n=t.sent,t.next=6,new Promise((function(t){tn.Instance.getBundleAsset(n.name,n.prefab_path,(function(t){}),(function(n){t(n)}),(function(t){L(sn,t)}))}));case 6:e=t.sent,(i=B(e)).setParent(this.loadingContainer),o={bundleName:n.name,language:kt,onShow:function(){},onClose:function(){s._removeLoadingBundle()},onStartGame:function(){s.showGame()}},i.emit("options",o),i.emit("show"),this.activeLoadingNode=i;case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._removeLoadingBundle=function(){A(sn,"Remove loading bundle");var t=tn.Instance.RemoteConfig.loading;tn.Instance.removeBundle(t.name),N.Instance.AppState.state=nn.PLAYING},s._getLoadingProgress=function(t,n){return n/3+t/3},s._loadAndCreateGame=function(){var t=a(r().mark((function t(){var n,e,i,o,s,a=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._loadUIPrefab();case 2:return n=t.sent,t.next=5,this._waitForLoadBundle("game");case 5:return e=t.sent,t.next=8,new Promise((function(t){tn.Instance.getBundleAsset(e.name,e.prefab_path,(function(t){var n;null==(n=a.activeLoadingNode)||n.emit("progress",a._getLoadingProgress(t,1))}),(function(n){t(n)}),(function(t){L(sn,t)}))}));case 8:i=t.sent,(o=B(i)).setParent(this.gameContainer),s={bundleName:e.name,language:kt,uiPrefab:n,onReady:function(){var t;null==(t=a.activeLoadingNode)||t.emit("progress",a._getLoadingProgress(1,2))},onClose:function(t){a._removeGameBundle()}},o.emit("options",s),this.activeGameNode=o;case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._loadUIPrefab=function(){var t=a(r().mark((function t(){var n,e,i=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._waitForLoadBundle("ui");case 2:return n=t.sent,t.next=5,new Promise((function(t){tn.Instance.getBundleAsset(n.name,n.prefab_path,(function(t){var n;null==(n=i.activeLoadingNode)||n.emit("progress",i._getLoadingProgress(t,0))}),(function(n){t(n)}),(function(t){L(sn,t)}))}));case 5:return e=t.sent,t.abrupt("return",e);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.showGame=function(){this.activeGameNode.emit("show"),this.activeLoadingNode.emit("close")},s._removeGameBundle=function(){A(sn,"Remove [game] bundle");var t=tn.Instance.RemoteConfig.game;tn.Instance.removeBundle(t.name)},s._waitForLoadBundle=function(){var t=a(r().mark((function t(n){var e,i,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i in e=null,tn.Instance.RemoteConfig)n==i&&(e=tn.Instance.RemoteConfig[i]);return A(n,e),null==(o=tn.Instance.getBundle(e.name))&&(e.version?tn.Instance.loadVersionBundle(e.name,e.version,(function(t,n){t?L(sn,t):o=n})):tn.Instance.loadBundle(e.name,(function(t,n){t?L(sn,t):o=n}))),t.next=7,this.until((function(){return null!=o}));case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.fetchDataFromServer=function(){var t=a(r().mark((function t(){var n,e,i,o,s,a,l,u,c,h,p,_,d;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A(sn,"fetchDataFromServer start"),N.Instance.EnvData.isActiveDemo&&U("fun","1"),H("a")||!H("fun")){t.next=15;break}return N.Instance.EnvData.isActiveDemo=!0,t.next=6,W.Instance.launchGame({playerId:null==(e=N.Instance.EnvData.demoAccount)?void 0:e.playerId,playerName:null==(i=N.Instance.EnvData.demoAccount)?void 0:i.playerName,currency:null==(o=N.Instance.EnvData.demoAccount)?void 0:o.playerCurrency,gameId:N.Instance.EnvData.gameId,language:null==(s=N.Instance.EnvData.demoAccount)?void 0:s.langauage,isDemo:null==(a=N.Instance.EnvData.demoAccount)?void 0:a.isCreateDemoAccount},null==(l=N.Instance.EnvData.demoAccount)?void 0:l.operatorToken);case 6:if(!((u=t.sent)instanceof Error)){t.next=10;break}throw O(sn,"LaunchGame errors:",u),u;case 10:c=u.data.game_url.indexOf("a="),h=u.data.game_url.substring(c+2),p=h.substring(0,h.indexOf("&")),U("a",p),A(sn,"fetchDataFromServer done");case 15:return null!=(n=N.Instance.EnvData.demoAccount)&&n.isCheatMode||N.Instance.checkCheatCode(),t.next=18,W.Instance.me(N.Instance.EnvData.gameId);case 18:if(!((_=t.sent)instanceof Error)){t.next=22;break}throw O(sn,"Me errors:",_),_;case 22:if(!_.operator.is_maintenance){t.next=25;break}throw O(sn,"Game is under maintenance"),new Error("maintenance");case 25:return N.Instance.GameData.me=_,N.Instance.PlayerData.playerId=_.id.toString(),N.Instance.PlayerData.displayName=_.name,N.Instance.PlayerData.balance=_.balance,W.Instance.MemberToken=_.token,t.next=32,W.Instance.getPaytable(N.Instance.EnvData.gameId,N.Instance.EnvData.langauage);case 32:if(!((d=t.sent)instanceof Error)){t.next=36;break}return O(sn,"GetPaytable errors:",d),t.abrupt("return",d);case 36:N.Instance.GameData.getPaytable=d,this._massagePaytableResponse(d);case 38:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s._massagePaytableResponse=function(t){var n=[],e={category:"",patterns:[{path:"",pattern_id:""}]};t.section.forEach((function(t){switch(t.type){case"payout-list":t.content.forEach((function(t){n.push.apply(n,t)}));break;case"paylines":var i=t.content;e=u({},i)}})),N.Instance.Paytable=n,N.Instance.Payline=e,A(sn,"Paytables: ",n),A(sn,"Payline: ",e)},s._errorHandler=function(){var t=a(r().mark((function t(n){var e,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:e="",t.t0=ct(null==n?void 0:n.message),t.next=t.t0===ht.Maintenance?6:t.t0===ht.Unauthorized?8:t.t0===ht.DuplicatedLogin?10:t.t0===ht.ApiError?12:t.t0===ht.ValidationError?14:t.t0===ht.InvalidAuthTokenFailed?16:t.t0===ht.InternalUnknownError?18:t.t0===ht.ForbiddenAccess?20:t.t0===ht.PlayerNotFound?22:t.t0===ht.JwtError?24:t.t0===ht.InvalidGameSlug?26:t.t0===ht.DemoModeNotAvailable?28:(t.t0,ht.Unknown,30);break;case 6:return e=ut.Instance.t("error.maintenance"),t.abrupt("return");case 8:return e=ut.Instance.t("error.unauthorized"),t.abrupt("break",32);case 10:return e=ut.Instance.t("error.duplicated_login"),t.abrupt("break",32);case 12:return e=ut.Instance.t("error.api_error"),t.abrupt("break",32);case 14:return e=ut.Instance.t("error.validation_error"),t.abrupt("break",32);case 16:return e=ut.Instance.t("error.invalid_auth_token_failed"),t.abrupt("break",32);case 18:return e=ut.Instance.t("error.internal_unknown_error"),t.abrupt("break",32);case 20:return e=ut.Instance.t("error.forbidden_access"),t.abrupt("break",32);case 22:return e=ut.Instance.t("error.player_not_found"),t.abrupt("break",32);case 24:return e=ut.Instance.t("error.jwt_error"),t.abrupt("break",32);case 26:return e=ut.Instance.t("error.invalid_game_slug"),t.abrupt("break",32);case 28:return e=ut.Instance.t("error.demo_mode_not_available"),t.abrupt("break",32);case 30:return e=ut.Instance.t("error.unknown"),t.abrupt("break",32);case 32:lt(null==n?void 0:n.message)&&(i=JSON.parse(null==n?void 0:n.message),e+="object"==typeof i&&null!=i&&i.code?"\n"+ut.Instance.t("error.code").format(null==i?void 0:i.code):""),this.alertView.show(e);case 34:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.until=function(t){return new Promise((function n(e){t()?e():setTimeout((function(t){return n(e)}),400)}))},s.waitForAnim=function(t,n,e,i){return t?new Promise((function(o){t.once(P.EventType.FINISHED,(function(){return o()})),t.play(n);var s=t.getState(n);s&&(i&&(s.repeatCount=i),e&&(s.speed=e))})):Promise.reject("animis null")},s.getURLParam=function(t,n){var e,i,o,s;if(w.isBrowser){var a=null,r=location.search;if("undefined"!=typeof URLSearchParams?a=new URLSearchParams(r):(e=(r||location.search).substr(1),i={},s=function(t){return i[t]},(o=function(){e.split("&").reduce((function(t,n){var e=n.split("="),i=e[0],o=e[1];return t[i]=o,t}),i)})(),a={parseQuerstring:o,has:function(t){return null!=s(t)},get:s}),a.has(t))return a.get(t)}return null!=n?n:""},n}(y)).prototype,"envNode",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=n(Jt.prototype,"landingContainer",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=n(Jt.prototype,"gameContainer",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=n(Jt.prototype,"loadingContainer",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$t=n(Jt.prototype,"alertView",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=Jt));g._RF.pop(),g._RF.push({},"31df1JQPhhBb4b/mW1bJxSG","SlotUIConst.global",void 0);var an,rn,ln=t("a",{THIS_GAME_RESOURCE_PREFAB_NAME:"GameResource",THIS_GAME_LOCALIZE_PREFAB_NAME:"GameLocalize",DEFAULT_LANGUAGE:"en-us",LOG_TAG:"[SlotUI]",AUTO_PLAY_TOTAL_SPINS_OPTIONS:[10,20,30,50,70,100,500,1e3],AUTO_PLAY_LOSS_LIMIT_RATIO_OPTIONS:[-1,10,20,30,50,100,200,500,1e3],AUTO_PLAY_INTERVAL:.5,AUTO_PLAY_TRIGGER_DELAY:1,BIG_WIN_TIER_LEVELS:[5e3,1e4,2e4,5e4],BIG_WIN_AUTO_COLLECT_DURATION:8,HUNDRED_SPIN_DURATION:30});g._RF.pop(),g._RF.push({},"da2e5yVns5JLbDo9X43moQj","SlotUIEvent.global",void 0),function(t){t.OPTIONS="options",t.SHOW="show",t.CLOSE="close",t.TOGGLE_AUDIO="toggle_audio",t.TOGGLE_TURBO="toggle_turbo",t.START_PLAY="start_play",t.TRY_START_PLAY_100_SPIN="try_start_play_100_spin",t.START_PLAY_100_SPIN="start_play_100_spin",t.SKIP_PLAY="skip_play",t.BET_CHANGED="bet_changed"}(an||(an={})),function(t){t.START_PLAY="start_play",t.SKIP="skip",t.START_AUTO_PLAY="start_auto_play",t.STOP_AUTO="stop_auto",t.AUDIO="auto",t.BET_CHANGED="bet_changed",t.BET_PER_LINE="bet_per_line",t.TURBO="turbo"}(rn||(rn={})),g._RF.pop(),g._RF.push({},"0cb8dPXDLdF8Zpgqr10aOQJ","SlotUIBigWin.controller",void 0);var un=function(t){function n(n){return t.call(this,n)||this}e(n,t);var i=n.prototype;return i.setMinimumBetAmount=function(t){this._model.minimumBetAmount=t},i.setAmount=function(t){this._model.amount=t},i.setCurrentBetAmount=function(t){this._model.currentBetAmount=t},n}(c);g._RF.pop(),g._RF.push({},"93500jN5F5F85RPZdd3Jdnt","SlotUIBigWin.model",void 0);var cn,hn=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._minimumBetAmount=0,n._amount=0,n._currentBetAmount=0,n}return e(n,t),s(n,[{key:"minimumBetAmount",get:function(){return this._minimumBetAmount},set:function(t){this._minimumBetAmount!=t&&(this._minimumBetAmount=t)}},{key:"amount",get:function(){return this._amount},set:function(t){this._amount!=t&&(this._amount=t)}},{key:"currentBetAmount",get:function(){return this._currentBetAmount},set:function(t){this._currentBetAmount!=t&&(this._currentBetAmount=t)}}]),n}(h);g._RF.pop(),g._RF.push({},"3ab0dooCiVKrZIrrsOvcibB","SlotUIBigWin.view",void 0);var pn,_n=m.ccclass;m.property;!function(t){t.DEFAULT="default",t.SHOW_LVL_1="show_lvl_1",t.SHOW_LVL_2="show_lvl_2",t.SHOW_LVL_3="show_lvl_3",t.SHOW_LVL_4="show_lvl_4",t.GLOW_LVL_1="bigwin_glow",t.GLOW_LOOP_LVL_1="bigwin_glow_loop",t.GLOW_LVL_2="superwin_glow",t.GLOW_LOOP_LVL_2="superwin_glow_loop",t.GLOW_LVL_3="epicwin_glow",t.GLOW_LOOP_LVL_3="epicwin_glow_loop",t.GLOW_LVL_4="megawin_glow",t.GLOW_LOOP_LVL_4="megawin_glow_loop",t.LOOP="loop"}(pn||(pn={}));var dn,fn=_n(cn=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._anim=null,n._imgTitle=null,n._lblAmount=null,n._btnSkip=null,n._btnCollect=null,n._autoCollect=null,n._lblCountdown=null,n._centerParticles=null,n._countTween=null,n._zoomTween=null,n._autoCollectTimerTween=null,n._isCollect=!1,n._bigWinAudioId="",n._spGlow=null,n}e(n,t);var i=n.prototype;return i.createNewController=function(){return this.Model=new hn,new un(this.Model)},i.onLoad=function(){t.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},i.init=function(t){},i._setupProperty=function(){this._anim=this.node.getComponent(P),this._imgTitle=this.node.getChildByPath("Container/imgTitle").getComponent(T),this._lblAmount=this.node.getChildByPath("Container/lblAmount").getComponent(b),this._btnSkip=this.node.getChildByPath("Container/btnSkip").getComponent(E),this._btnCollect=this.node.getChildByPath("Container/btnCollect").getComponent(E),this._autoCollect=this.node.getChildByPath("Container/autoCollect"),this._lblCountdown=this.node.getChildByPath("Container/autoCollect/lblCountdown").getComponent(b),this._centerParticles=[this.node.getChildByPath("Container/psCoins-center1").getComponent(pt),this.node.getChildByPath("Container/psCoins-center2").getComponent(pt),this.node.getChildByPath("Container/psCoins-center3").getComponent(pt)],this._spGlow=this.node.getChildByPath("Container/spGlow").getComponent(R.Skeleton)},i._setupEvent=function(){var t=this;this._btnSkip.node.on("click",this.onSkipClicked,this),this._btnCollect.node.on("click",this.onCollectClicked,this),M.on(k.EventType.KEY_DOWN,(function(n){n.keyCode==G.SPACE&&(t._btnSkip.node.active&&t.onSkipClicked(),t._btnCollect.node.active&&t.onCollectClicked())}),this),M.on(k.EventType.KEY_PRESSING,(function(n){n.keyCode==G.SPACE&&(t._btnSkip.node.active&&t.onSkipClicked(),t._btnCollect.node.active&&t.onCollectClicked())}),this)},i.setMinimumBetAmount=function(t){this.Ctrl.setMinimumBetAmount(t)},i.setCurrentBetAmount=function(t){this.Ctrl.setCurrentBetAmount(t)},i.checkIsBigWin=function(t){var n=this,e=ln.BIG_WIN_TIER_LEVELS.map((function(t){return t*n.Model.currentBetAmount}));return e.length>0&&t>=e[0]},i.show=function(){var t=a(r().mark((function t(n,e,i){var o,s,a,u,c,h,p,_=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),this.Ctrl.setAmount(n),this._btnSkip.node.active=!1,this._btnCollect.node.active=!1,this._autoCollect.active=!1,this._isCollect=!1,this._lblAmount.string=nt("0"),this._centerParticles.forEach((function(t){return t.ParticleSystem.resetSystem()})),o=ln.BIG_WIN_TIER_LEVELS,s=et(n,this.Model.currentBetAmount,o),a=s[0],u=s[1],this._bigWinAudioId=l.Instance.playSfx(tt.Instance.sfxBigWin,!0),c=1,t.next=14,this._playLevelAnimation(c);case 14:return this._btnSkip.node.active=!0,h=it(a),p=n<100||n%1!=0,this._countTween=K(0,n,h,(function(t){_._lblAmount.string=nt(t.simpleFormat(p?2:0)),_._btnSkip.node.active?c<u.length&&t>=u[c]&&(c++,_._playLevelAnimation(c)):c!=a&&(c=a,_._playLevelAnimation(c))}),(function(){_._zoomTween.kill(),_._lblAmount.node.scale=x.ONE,_._lblAmount.string=nt(n.simpleFormat(p?2:0)),l.Instance.getAudioSource(_._bigWinAudioId)&&l.Instance.stopSfx(_._bigWinAudioId);var t=tt.Instance.sfxBigWinEnd_1;switch(c){case 4:t=tt.Instance.sfxBigWinEnd_3;break;case 3:t=tt.Instance.sfxBigWinEnd_2}l.Instance.playOneShotSfx(t),_._btnSkip.node.active=!1,_._btnCollect.node.active=!0,_._autoCollect.active=e,e&&(_._lblCountdown.string=ln.BIG_WIN_AUTO_COLLECT_DURATION.toFixed(0),_._autoCollectTimerTween=K(ln.BIG_WIN_AUTO_COLLECT_DURATION,0,ln.BIG_WIN_AUTO_COLLECT_DURATION,(function(t){_._lblCountdown.string=t.toFixed(0)}),(function(){_.onCollectClicked()})))})),this._zoomTween=j(this._lblAmount.node,1.2,.6),t.next=21,J((function(){return _._isCollect}));case 21:return this._centerParticles.forEach((function(t){return t.ParticleSystem.stopSystem()})),t.next=24,z(.1);case 24:this.hide(),A(ln.LOG_TAG,"[BigWin.show] done"),null==i||i();case 27:case"end":return t.stop()}}),t,this)})));return function(n,e,i){return t.apply(this,arguments)}}(),i.hide=function(){this._countTween&&(this._countTween.kill(),this._countTween=null),this._anim.play(pn.DEFAULT)},i._playLevelAnimation=function(){var t=a(r().mark((function t(n){var e,i,o,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next=1===t.t0?3:2===t.t0?5:3===t.t0?7:4===t.t0?9:11;break;case 3:return this._centerParticles.forEach((function(t){return t.ParticleSystem.emissionRate=5})),t.abrupt("break",11);case 5:return this._centerParticles.forEach((function(t){return t.ParticleSystem.emissionRate=10})),t.abrupt("break",11);case 7:return this._centerParticles.forEach((function(t){return t.ParticleSystem.emissionRate=15})),t.abrupt("break",11);case 9:return this._centerParticles.forEach((function(t){return t.ParticleSystem.emissionRate=20})),t.abrupt("break",11);case 11:return e=pn["SHOW_LVL_"+n],i=pn["GLOW_LVL_"+n],this._anim.play(e),this._spGlow.animation=i,t.next=17,Y(this._anim,e);case 17:this._anim.play(pn.LOOP),o=this._anim.getState(pn.LOOP),s=pn["GLOW_LOOP_LVL_"+n],this._spGlow.animation=s,o&&(o.speed=1+.2*(n-1));case 22:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),i.onLevelChanged=function(t){this._imgTitle.spriteFrame=tt.Instance.getBigWinTitleImgByLevel(t),t>1&&l.Instance.playOneShotSfx(tt.Instance.sfxBigWinLevelUp)},i.onSkipClicked=function(){this._btnSkip.node.active=!1,this._countTween&&(this._countTween.skip(!0),this._countTween.kill(),this._countTween=null)},i.onCollectClicked=function(){var t;this._isCollect=!0,this._btnCollect.node.active=!1,null==(t=this._autoCollectTimerTween)||t.kill(),this._autoCollect.active=!1},n}(p))||cn;g._RF.pop(),g._RF.push({},"57668a8nTlBiquTYsga3prE","SlotUIGameEvent",void 0),function(t){t.REQUEST_OPEN_GAME_RULE="req_open_game_rule",t.REQUEST_OPEN_BET_HISTORY="req_open_bet_history",t.OPEN_BET="open_bet",t.CLOSE_BET="close_bet",t.OPEN_MENU="open_menu",t.OPEN_GAME_RULE="open_game_rule",t.CLOSE_GAME_RULE="close_game_rule",t.OPEN_BET_HISTORY="open_bet_history",t.CLOSE_BET_HISTORY="close_bet_history",t.OPEN_ALERT="open_alert",t.TOGGLE_AUDIO="toggle_audio",t.TOGGLE_TURBO="toggle_turbo",t.CLICK_START_PLAY="click_start_play",t.CLICK_START_PLAY_100_SPIN="click_start_play_100_spin",t.CLICK_SKIP_PLAY="click_skip_play",t.CLICK_START_AUTO_PLAY="click_start_auto_play",t.CONFIRM_START_PLAY_100_SPIN="confirm_start_play_100_spin",t.UPDATE_BET="update_bet",t.UPDATED_BET="updated_bet",t.SHOW_BET_PANEL="show_bet_panel",t.HIDE_BET_PANEL="hide_bet_panel"}(dn||(dn=t("d",{})));var gn=t("c",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),s(n,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new _t),this._instance}}]),n}(_t));gn._instance=null,g._RF.pop(),g._RF.push({},"dcfe7OYFVxHToEoAOdaxdp6","SlotUIMessage.controller",void 0);var mn=function(t){function n(n){return t.call(this,n)||this}e(n,t);var i=n.prototype;return i.getRandomReadyBetMessage=function(){var t=["PLACE YOUR BETS"];return t[Z(0,t.length-1)]},i.getReadyBetMessage=function(t){return t?"YOU WIN":"PLACE YOUR BETS"},i.getRandomBettingMessage=function(){var t=["GOOD LUCK"];return t[Z(0,t.length-1)]},n}(c);g._RF.pop(),g._RF.push({},"f1289fugShAgYagHgpQQDi3","SlotUIMessage.model",void 0);var yn,bn=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(h);g._RF.pop(),g._RF.push({},"71d0c9T1yVFZZnmOhfw76SQ","SlotUITotem.view",void 0);var vn,Sn=m.ccclass,In=(m.property,Sn(yn=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._imgSprite=null,n._aspectRatio=null,n}e(n,t);var i=n.prototype;return i.onLoad=function(){this._setupProperty()},i._setupProperty=function(){this._imgSprite=this.node.getChildByPath("img").getComponent(T),this._aspectRatio=this.node.getChildByPath("img").getComponent(dt)},i.setImage=function(t){this._imgSprite&&!this._aspectRatio||this._setupProperty(),this._imgSprite.spriteFrame=t,this._aspectRatio.AspectRatio=this._imgSprite.spriteFrame.rect.width/this._imgSprite.spriteFrame.rect.height},i.clearImage=function(){this._imgSprite.spriteFrame=null},n}(y))||yn);g._RF.pop(),g._RF.push({},"3a8efTKfHRIE6gbvztPE2Xm","SlotUIMessage.view",void 0);var Cn=m.ccclass,Pn=(m.property,Cn(vn=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._lblMessage=null,n._totemFactory=null,n._totemsLayout=null,n._lblPays=null,n._tweenWin=null,n._winRollingAudioId="",n._payNode=null,n}e(n,t);var i=n.prototype;return i.createNewController=function(){return this.Model=new bn,new mn(this.Model)},i.onLoad=function(){t.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},i.init=function(t){this.hideMessage(),this.hidePays()},i._setupProperty=function(){this._lblMessage=this.node.getChildByPath("lblMessage").getComponent(V),this._totemFactory=this.node.getChildByPath("pays/totems").getComponent(q),this._totemsLayout=this.node.getChildByPath("pays/totems").getComponent(F),this._lblPays=this.node.getChildByPath("pays/lblPays").getComponent(b),this._payNode=this.node.getChildByPath("pays")},i._setupEvent=function(){},i.showResumeMessage=function(){this.hideMessage(),this._lblMessage.string="Resuming game..."},i.showReadyBetMessage=function(t){this.hideMessage(),this._lblMessage.string=this.Ctrl.getReadyBetMessage(t)},i.showBettingMessage=function(){this.hideMessage(),this._lblMessage.string=this.Ctrl.getRandomBettingMessage()},i.showWinMessage=function(t,n,e){var i,o=this;void 0===n&&(n=!0),t<=0?this.stopWinMessage():(this._winRollingAudioId=l.Instance.playSfx(tt.Instance.sfxNumRolling,!0),null==(i=this._tweenWin)||i.kill(),this._tweenWin=K(0,t,ot(t),(function(t){o._lblMessage.string="<color=#FCBD39>Win   </color> <color=#0fffff> "+nt(t.simpleFormat(2))+"</color>"}),(function(){l.Instance.getAudioSource(o._winRollingAudioId)&&l.Instance.stopSfx(o._winRollingAudioId),l.Instance.playOneShotSfx(tt.Instance.sfxNumRollEnd),o._lblMessage.string="<color=#FCBD39>Win   </color> <color=#0fffff>"+nt(t.simpleFormat(2))+"</color>",null==e||e()})),n||this.stopWinMessage())},i.stopWinMessage=function(){var t;null==(t=this._tweenWin)||t.skip()},i.hideMessage=function(){this.stopWinMessage(),this._lblMessage.string=""},i.showPay=function(t,n){var e=this;l.Instance.playOneShotSfx(tt.Instance.sfxWinLine),this._clearTotems(),this._totemFactory.node.active=(null==n?void 0:n.length)>=1||!1,null==n||n.forEach((function(t){var n=e._totemFactory.getItem(e._totemFactory.node).getComponent(In);n.node.setPosition(0,0),n.setImage(t)})),(null==n?void 0:n.length)>5?(this._payNode.position=new x(-35,-20,0),this._totemsLayout.spacingX=-12):5==(null==n?void 0:n.length)?(this._payNode.position=new x(-35,-20,0),this._totemsLayout.spacingX=-10):4==(null==n?void 0:n.length)?(this._totemsLayout.spacingX=-2,this._payNode.position=new x(-15,-20,0)):(this._totemsLayout.spacingX=5,this._payNode.position=new x(0,-20,0)),this._lblPays.string=t},i.hidePays=function(){this._clearTotems(),this._lblPays.string=""},i._clearTotems=function(){for(var t=this._totemFactory.node.children.length-1;t>=0;t--)this._totemFactory.deleteItem(this._totemFactory.node.children[t])},n}(p))||vn);g._RF.pop(),g._RF.push({},"aef699hY/BBY4cN+36jgKhT","SlotUIWin.controller",void 0);var An=function(t){function n(n){return t.call(this,n)||this}e(n,t);var i=n.prototype;return i.getRandomReadyBetWin=function(){var t=["SPIN TO WIN!","PLACE YOUR BETS!"];return t[Z(0,t.length-1)]},i.getRandomBettingWin=function(){var t=["GOOD LUCK!"];return t[Z(0,t.length-1)]},n}(c);g._RF.pop(),g._RF.push({},"5cb50Ns3/BP95irY33UtdXT","SlotUIWin.model",void 0);var wn,Ln=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(h);g._RF.pop(),g._RF.push({},"4dedb11KBZBWr++Ab5o6gqE","SlotUIWin.view",void 0);var Bn=m.ccclass,On=(m.property,Bn(wn=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._lblWin=null,n._lblPays=null,n._tweenWin=null,n._winRollingAudioId="",n}e(n,t);var i=n.prototype;return i.createNewController=function(){return this.Model=new Ln,new An(this.Model)},i.onLoad=function(){t.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},i.init=function(t){this.hideWin(),this.hidePays()},i._setupProperty=function(){this._lblWin=this.node.getChildByPath("lblAmount").getComponent(b)},i._setupEvent=function(){},i.showResumeWin=function(){this.hideWin(),this._lblWin.string="Resuming game..."},i.showReadyBetWin=function(){this.hideWin(),this._lblWin.string=this.Ctrl.getRandomReadyBetWin()},i.showBettingWin=function(){this.hideWin(),this._lblWin.string=this.Ctrl.getRandomBettingWin()},i.showWinWin=function(t,n,e){var i,o=this;void 0===n&&(n=!0),t<=0?this.stopMsg():(this._winRollingAudioId=l.Instance.playSfx(tt.Instance.sfxNumRolling,!0),null==(i=this._tweenWin)||i.kill(),this._tweenWin=K(0,t,ot(t),(function(t){o._lblWin.string=""+nt(t.simpleFormat(2))}),(function(){l.Instance.getAudioSource(o._winRollingAudioId)&&l.Instance.stopSfx(o._winRollingAudioId),l.Instance.playOneShotSfx(tt.Instance.sfxNumRollEnd),o._lblWin.string=""+nt(t.simpleFormat(2)),null==e||e()})),n||this.stopMsg())},i.stopMsg=function(){var t;null==(t=this._tweenWin)||t.skip()},i.hideWin=function(){this.stopMsg(),this._lblWin.string=nt("0")},i.showPay=function(t,n){l.Instance.playOneShotSfx(tt.Instance.sfxWinLine)},i.hidePays=function(){},n}(p))||wn);g._RF.pop(),g._RF.push({},"f3e4b2f/VxCL4qzwuyQyBBY","SlotUIFooter.controller",void 0);var Tn=function(t){function n(n){return t.call(this,n)||this}e(n,t);var i=n.prototype;return i.setBalance=function(t){this._model.balance=t},i.setIsPrevWin=function(t){this._model.isPrevWin=t},n}(c);g._RF.pop(),g._RF.push({},"79dfbfvNYJEeLCHxG9jA4H1","SlotUIFooter.model",void 0);var En,Rn,Mn,kn,Gn=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).onBalance=new _,n._balance=-1,n._isPrevWin=!1,n}return e(n,t),s(n,[{key:"balance",get:function(){return this._balance},set:function(t){if(this._balance!=t){var n=this._balance;this._balance=t,this.onBalance.trigger(this._balance,n)}}},{key:"isPrevWin",get:function(){return this._isPrevWin},set:function(t){this._isPrevWin!=t&&(this._isPrevWin=t)}}]),n}(h);g._RF.pop(),g._RF.push({},"c7c12KQziRMSZR3I8517uR3","SlotUIFooter.view",void 0);var xn,Vn=m.ccclass,Fn=m.property;!function(t){t.DEFAULT="default",t.SHOW="show",t.HIDE="hide"}(xn||(xn={}));var Dn=(En=Fn(st),Vn((kn=n((Mn=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(n=t.call.apply(t,[this].concat(s))||this)._anim=null,n._btnMenu=null,n._lblBalance=null,n._balanceIcon=null,n._lblFun=null,n._lblBetAmount=null,n._btnBetPerLine=null,n._lblBetLines=null,n._lblBetPerLine=null,n._betBetPerLineChanger=null,n._nodeBetOpen=null,n._nodeBetClose=null,n._message=null,n._lblWinAmount=null,n._lblCoinWinStart=null,n._tweenBalance=null,n._balanceAudioId="",i(n,"coinWinView",kn,o(n)),n}e(n,t);var s=n.prototype;return s.createNewController=function(){return this.Model=new Gn,new Tn(this.Model)},s.onLoad=function(){t.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},s.init=function(t){this.setBetState(at.INIT),this._message.node.emit("init")},s._setupProperty=function(){this._anim=this.node.getComponent(P),this._btnMenu=this.node.getChildByPath("Container/menu/btnMenu").getComponent(E),this._balanceIcon=this.node.getChildByPath("Container/balance/icon"),this._lblBalance=this.node.getChildByPath("Container/balance/pivot/lblBalance").getComponent(b),this._lblFun=this.node.getChildByPath("Container/balance/lblBalanceTitle/lblFun").getComponent(b),this._lblBetAmount=this.node.getChildByPath("Container/bet/Container/lblAmount").getComponent(b),this._btnBetPerLine=this.node.getChildByPath("Container/betOptions/btnBetOptions").getComponent(E),this._lblBetLines=this.node.getChildByPath("Container/betOptions/lblBetLines").getComponent(b),this._lblBetPerLine=this.node.getChildByPath("Container/betOptions/lblBetPerLine").getComponent(b),this._nodeBetOpen=this.node.getChildByPath("Container/betOptions/toggle/imgOpen"),this._nodeBetClose=this.node.getChildByPath("Container/betOptions/toggle/imgClose"),this._message=this.node.getChildByPath("Container/MessageView").getComponent(Pn),this._lblWinAmount=this.node.getChildByPath("Container/win").getComponent(On),this._lblCoinWinStart=this.node.getChildByPath("Container/win/coin"),this.setIsDemoMode(!1)},s._setupEvent=function(){var t=this;this._btnMenu.node.on("click",this.onMenuClicked,this),this._btnBetPerLine.node.on("click",this.onBetPerLineClicked,this),gn.Instance.on(dn.OPEN_BET,(function(){t._setIsBetOpen(!0)})),gn.Instance.on(dn.CLOSE_BET,(function(){t._setIsBetOpen(!1)})),gn.Instance.on(dn.SHOW_BET_PANEL,(function(){t._anim.play(xn.SHOW)})),gn.Instance.on(dn.HIDE_BET_PANEL,(function(){t._betBetPerLineChanger.setIsShow(!1),t._anim.play(xn.HIDE)})),this.Model.onBalance.on((function(n,e){t._lblBalance.string=n.simpleFormat(2)}))},s.setBetState=function(t,n){switch(void 0===n&&(n=!1),t){case at.INIT:this._btnBetPerLine.interactable=!1,this._lblWinAmount.hideWin(),this._setIsBetOpen(!1);break;case at.READY_BET:this._btnBetPerLine.interactable=!n,this.Model.isPrevWin,this._message.showReadyBetMessage(this.Model.isPrevWin),this.Ctrl.setIsPrevWin(!1);break;case at.PLAYING:this._btnBetPerLine.interactable=!1,this._message.hidePays(),this._lblWinAmount.hideWin(),this._message.showBettingMessage();break;case at.STOPPING:this._btnBetPerLine.interactable=!1;break;case at.STOPPED:this._btnBetPerLine.interactable=!n}},s.setIsDemoMode=function(t){this._lblFun.node.active=t},s.setBalance=function(t){this.Ctrl.setBalance(t)},s.showBalance=function(t,n){var e,i=this;l.Instance.getAudioSource(this._balanceAudioId)&&l.Instance.stopSfx(this._balanceAudioId),this.Model.balance!=t?(this._balanceAudioId=l.Instance.playSfx(tt.Instance.sfxNumRolling,!0),null==(e=this._tweenBalance)||e.kill(),this._tweenBalance=K(this.Model.balance,t,1,(function(t){i._lblBalance.string=t.simpleFormat(2)}),(function(){l.Instance.getAudioSource(i._balanceAudioId)&&l.Instance.stopSfx(i._balanceAudioId),i.Ctrl.setBalance(t),null==n||n()}))):null==n||n()},s.stopBalance=function(){var t;null==(t=this._tweenBalance)||t.skip()},s.showPayoutMessage=function(t,n,e){void 0===n&&(n=0),t&&(this._lblWinAmount.showWinWin(n,!0,e),this.coinWinView.updateStep(3,[this._lblCoinWinStart],this._balanceIcon),this._message.showReadyBetMessage(t)),this.Ctrl.setIsPrevWin(t)},s.stopPayoutMessage=function(){this._message.stopWinMessage(),this._lblWinAmount.stopMsg()},s.showPayLineMessage=function(t,n){this._message.showPay(t,n)},s._setIsBetOpen=function(t){this._nodeBetOpen.active=!t,this._nodeBetClose.active=t},s.onMenuClicked=function(){l.Instance.playOneShotSfx(tt.Instance.sfxClick),gn.Instance.emit(dn.OPEN_MENU)},s.onBetPerLineClicked=function(){l.Instance.playOneShotSfx(tt.Instance.sfxClick),this._betBetPerLineChanger.setIsShow(!0)},n}(p)).prototype,"coinWinView",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rn=Mn))||Rn);g._RF.pop(),g._RF.push({},"fb307XJzcpPUKYn4o6aZCcw","SlotUIGameInfo.controller",void 0);var Nn=function(t){function n(n){return t.call(this,n)||this}e(n,t);var i=n.prototype;return i.setPlayerId=function(t){this._model.playerId=t},i.setGameId=function(t){this._model.gameId=t},i.setDateTimestamp=function(t){this._model.timestamp=t},n}(c);g._RF.pop(),g._RF.push({},"56535AhRDpImqxC4E2Eie73","SlotUIGameInfo.model",void 0);var Wn,Un=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).onPlayerId=new _,n._playerId="",n.onGameId=new _,n._gameId="",n._timestamp=0,n}return e(n,t),s(n,[{key:"playerId",get:function(){return this._playerId},set:function(t){if(this._playerId!=t){var n=this._playerId;this._playerId=t,this.onPlayerId.trigger(this._playerId,n)}}},{key:"gameId",get:function(){return this._gameId},set:function(t){if(this._gameId!=t){var n=this._gameId;this._gameId=t,this.onGameId.trigger(this._gameId,n)}}},{key:"timestamp",get:function(){return this._timestamp},set:function(t){this._timestamp!=t&&(this._timestamp=t)}}]),n}(h);g._RF.pop(),g._RF.push({},"7af8aWv0GBDs5VOgcgyC+KX","SlotUIGameInfo.view",void 0);var Hn,Yn,zn,Kn,jn,Jn,Zn,qn=m.ccclass,Qn=(m.property,qn(Wn=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._lblInfo=null,n._lblDateTime=null,n}e(n,t);var i=n.prototype;return i.createNewController=function(){return this.Model=new Un,new Nn(this.Model)},i.onLoad=function(){t.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},i.onEnable=function(){this.schedule(this._updateDateTimestamp.bind(this),1,D.REPEAT_FOREVER)},i.onDisable=function(){this.unschedule(this._updateDateTimestamp.bind(this))},i.init=function(t){this.Ctrl.setGameId(""),this.Ctrl.setDateTimestamp(0)},i._setupProperty=function(){this._lblInfo=this.node.getChildByPath("info/lblInfo").getComponent(b),this._lblDateTime=this.node.getChildByPath("dateTime/lblDateTime").getComponent(b)},i._setupEvent=function(){var t=this;this.Model.onGameId.on((function(n,e){t._lblInfo.string="Game ID: "+n})),this.Model.onPlayerId.on((function(n,e){t._lblInfo.string="Player ID: "+n}))},i.setPlayerId=function(t){this.Ctrl.setPlayerId(t)},i.setGameId=function(t){this.Ctrl.setGameId(t)},i._updateDateTimestamp=function(){var t=new Date;this.Ctrl.setDateTimestamp(t.getTime()),this._lblDateTime.string=t.toCustomFullDateTime()},n}(p))||Wn);g._RF.pop(),g._RF.push({},"9c67fDvRy5CIrovi1+LI71E","SlotUIToggle",void 0);var Xn=m.ccclass,$n=m.property,te=t("b",(Hn=$n(E),Yn=$n(E),Xn((jn=n((Kn=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,i(n,"isOn",jn,o(n)),i(n,"btnOn",Jn,o(n)),i(n,"btnOff",Zn,o(n)),n}e(n,t);var s=n.prototype;return s.onLoad=function(){this.btnOn.node.active=this.isOn,this.btnOff.node.active=!this.isOn},s.onEnable=function(){this.btnOn.node.on("click",this._onOn,this),this.btnOff.node.on("click",this._onOff,this)},s.onDisable=function(){this.btnOn.node.off("click",this._onOn,this),this.btnOff.node.off("click",this._onOff,this)},s.init=function(t){this.isOn=t,this.btnOn.node.active=this.isOn,this.btnOff.node.active=!this.isOn},s.setIsInteractable=function(t){this.btnOn.interactable=t,this.btnOff.interactable=t},s.setToggle=function(t){this.isOn=t,this.btnOn.node.active=this.isOn,this.btnOff.node.active=!this.isOn,this.node.emit("toggle",this.isOn)},s.toggle=function(){this.setToggle(!this.isOn)},s.show=function(){this.node.active=!0},s.hide=function(){this.node.active=!1},s.isShow=function(){return this.node.active},s._onOn=function(){this.setToggle(!1)},s._onOff=function(){this.setToggle(!0)},n}(y)).prototype,"isOn",[$n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jn=n(Kn.prototype,"btnOn",[Hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zn=n(Kn.prototype,"btnOff",[Yn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zn=Kn))||zn));g._RF.pop(),g._RF.push({},"aae45WnXzFOoajqL4crDB8G","SlotUIAutoPlay.controller",void 0);var ne=function(t){function n(n){return t.call(this,n)||this}return e(n,t),n}(c);g._RF.pop(),g._RF.push({},"01847MzJIlOe5Nhz4JMUmjl","SlotUIAutoPlay.model",void 0);var ee,ie=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(h);g._RF.pop(),g._RF.push({},"030a9R9WEhMBZZwxdCKd5mg","SlotUIAutoPlay.view",void 0);var oe=m.ccclass,se=(m.property,oe(ee=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._container=null,n._tgStopOnBonus=null,n}e(n,t);var i=n.prototype;return i.createNewController=function(){return this.Model=new ie,new ne(this.Model)},i.onLoad=function(){t.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},i.init=function(t){this._tgStopOnBonus.init(!0),this.setIsShow(!1)},i._setupProperty=function(){this._container=this.node.getChildByPath("Container"),this._tgStopOnBonus=this.node.getChildByPath("Container/StopOnBonusToggleView").getComponent(te)},i._setupEvent=function(){var t=this;this._tgStopOnBonus.node.on("toggle",this.onStopOnBonusChanged,this),M.on(k.EventType.KEY_DOWN,(function(n){n.keyCode==G.SPACE&&t._container.active&&t.onStartClicked()}),this)},i.setIsShow=function(t){this._container.active=t,N.Instance.AppState.state!=nn.LOADING&&(N.Instance.AppState.state=this._container.active?nn.CHANGE_SETTING:nn.PLAYING),t&&this._tgStopOnBonus.setToggle(!0)},i.setHasBonus=function(t){t?this._tgStopOnBonus.show():this._tgStopOnBonus.hide()},i.onStopOnBonusChanged=function(t){l.Instance.playOneShotSfx(tt.Instance.sfxToggle)},i.onStartClicked=function(){gn.Instance.emit(dn.CLICK_START_AUTO_PLAY,{isAutoPlay:!0,totalSpins:-1,lossLimit:-1,isStopOnBonus:!1})},i.onCloseClicked=function(){this.setIsShow(!1),l.Instance.playOneShotSfx(tt.Instance.sfxClose)},n}(p))||ee);g._RF.pop(),g._RF.push({},"64641dGij1FKK8fRfexMs7g","SlotUIBetChanger.controller",void 0);var ae=function(t){function n(n){return t.call(this,n)||this}e(n,t);var i=n.prototype;return i.setCurrencySymbol=function(t){this._model.currencySymbol=t},i.setValueList=function(t){this._model.valueList=t},i.setValueOption=function(t){var n=this._model.valueList.findIndex((function(n){return n==t}));n>=0&&n!=this._model.currIndex&&(this._model.currIndex=n,this._model.currValue=this._model.valueList[n])},i.setPrev=function(){this._changeValue(-1)},i.setNext=function(){this._changeValue(1)},i.isMostLeft=function(){return 0==this._model.currIndex},i.isMostRight=function(){return this._model.currIndex>=this._model.valueList.length-1},i._changeValue=function(t){if(this._model.valueList&&0!=this._model.valueList.length){var n=this._model.currIndex+t;n<0?n=0:n>=this._model.valueList.length&&(n=this._model.valueList.length-1),n!=this._model.currIndex&&(this._model.currIndex=n,this._model.currValue=this._model.valueList[n])}},n}(c);g._RF.pop(),g._RF.push({},"d1ea6NE/GFKj5sEyqLZ/x26","SlotUIBetChanger.model",void 0);var re,le=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._currencySymbol="",n._valueList=[],n.onCurrIndex=new _,n._currIndex=-1,n.onCurrValue=new _,n._currValue=0,n}return e(n,t),s(n,[{key:"currencySymbol",get:function(){return this._currencySymbol},set:function(t){this._currencySymbol!=t&&(this._currencySymbol=t)}},{key:"valueList",get:function(){return this._valueList},set:function(t){this._valueList!=t&&(this._valueList=t)}},{key:"currIndex",get:function(){return this._currIndex},set:function(t){if(this._currIndex!=t){var n=this._currIndex;this._currIndex=t,this.onCurrIndex.trigger(this._currIndex,n)}}},{key:"currValue",get:function(){return this._currValue},set:function(t){if(this._currValue!=t){var n=this._currValue;this._currValue=t,this.onCurrValue.trigger(this._currValue,n)}}}]),n}(h);g._RF.pop(),g._RF.push({},"c23d5tWTCBIUa3j8uRNtnMP","SlotUIBetChanger.view",void 0);var ue=m.ccclass,ce=(m.property,ue(re=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._container=null,n._lblAmount=null,n._btnMinus=null,n._btnAdd=null,n}e(n,t);var i=n.prototype;return i.createNewController=function(){return this.Model=new le,new ae(this.Model)},i.onLoad=function(){t.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},i.init=function(t){this.setIsShow(!0)},i._setupProperty=function(){this._container=this.node.getChildByPath("Container"),this._lblAmount=this.node.getChildByPath("Container/lblAmount").getComponent(b),this._btnMinus=this.node.getChildByPath("btnMinus").getComponent(E),this._btnAdd=this.node.getChildByPath("btnAdd").getComponent(E)},i._setupEvent=function(){var t=this;this._btnMinus.node.on("click",this.onMinusClicked,this),this._btnAdd.node.on("click",this.onAddClicked,this),this.Model.onCurrValue.on((function(n,e){t._lblAmount.string=-1==n?"---":""+t.Model.currencySymbol+n.optimizeFormat(),t._btnMinus.interactable=!t.Ctrl.isMostLeft(),t._btnAdd.interactable=!t.Ctrl.isMostRight(),n!=e&&gn.Instance.emit(dn.UPDATE_BET,n<0?0:n)}))},i.setIsInteractable=function(t){this._btnMinus.interactable=t&&!this.Ctrl.isMostLeft(),this._btnAdd.interactable=t&&!this.Ctrl.isMostRight()},i.setIsShow=function(t){this._container.active=t,N.Instance.AppState.state!=nn.LOADING&&(N.Instance.AppState.state=nn.PLAYING),gn.Instance.emit(dn.OPEN_BET)},i.setCurrencySymbol=function(t){this.Ctrl.setCurrencySymbol(t)},i.setValueList=function(t){this.Ctrl.setValueList(t)},i.setValueOption=function(t){this.Ctrl.setValueOption(t)},i.onMinusClicked=function(){l.Instance.playOneShotSfx(tt.Instance.sfxSoftClick),this.Ctrl.setPrev(),this.setIsShow(!0)},i.onAddClicked=function(){l.Instance.playOneShotSfx(tt.Instance.sfxSoftClick),this.Ctrl.setNext(),this.setIsShow(!0)},i.onCloseClicked=function(){},n}(p))||re);g._RF.pop(),g._RF.push({},"f2511x4hzdHP57n+wdGGcXd","SlotUISettingsPanel.controller",void 0);var he=function(t){function n(n){return t.call(this,n)||this}return e(n,t),n}(c);g._RF.pop(),g._RF.push({},"eff7bxuU75H36C0B8bOi0lf","SlotUISettingsPanel.model",void 0);var pe,_e=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(h);g._RF.pop(),g._RF.push({},"a1f7ekXd0lMYa+wPnKRIeQ9","SlotUISettingsPanel.view",void 0);var de=m.ccclass,fe=(m.property,de(pe=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._container=null,n}e(n,t);var i=n.prototype;return i.createNewController=function(){return this.Model=new _e,new he(this.Model)},i.onLoad=function(){t.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},i.init=function(t){},i._setupProperty=function(){this._container=this.node.getChildByPath("Container")},i._setupEvent=function(){},n}(p))||pe);g._RF.pop(),g._RF.push({},"1bbffwVeh9E5pPxQ1195qVX","SlotUISettingsToggle.controller",void 0);var ge=function(t){function n(n){return t.call(this,n)||this}e(n,t);var i=n.prototype;return i.setCurrencySymbol=function(t){this._model.currencySymbol=t},i.setValueList=function(t){this._model.valueList=t},i.setValueOption=function(t){var n=this._model.valueList.findIndex((function(n){return n==t}));n>=0&&n!=this._model.currIndex&&(this._model.currIndex=n,this._model.currValue=this._model.valueList[n])},i.setPrev=function(){this._changeValue(-1)},i.setNext=function(){this._changeValue(1)},i.isMostLeft=function(){return 0==this._model.currIndex},i.isMostRight=function(){return this._model.currIndex>=this._model.valueList.length-1},i._changeValue=function(t){if(this._model.valueList&&0!=this._model.valueList.length){var n=this._model.currIndex+t;n<0?n=0:n>=this._model.valueList.length&&(n=this._model.valueList.length-1),n!=this._model.currIndex&&(this._model.currIndex=n,this._model.currValue=this._model.valueList[n])}},n}(c);g._RF.pop(),g._RF.push({},"d2779HTA1pOaI2pvPx5JfUc","SlotUISettingsToggle.model",void 0);var me,ye=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._currencySymbol="",n._valueList=[],n.onCurrIndex=new _,n._currIndex=-1,n.onCurrValue=new _,n._currValue=0,n}return e(n,t),s(n,[{key:"currencySymbol",get:function(){return this._currencySymbol},set:function(t){this._currencySymbol!=t&&(this._currencySymbol=t)}},{key:"valueList",get:function(){return this._valueList},set:function(t){this._valueList!=t&&(this._valueList=t)}},{key:"currIndex",get:function(){return this._currIndex},set:function(t){if(this._currIndex!=t){var n=this._currIndex;this._currIndex=t,this.onCurrIndex.trigger(this._currIndex,n)}}},{key:"currValue",get:function(){return this._currValue},set:function(t){if(this._currValue!=t){var n=this._currValue;this._currValue=t,this.onCurrValue.trigger(this._currValue,n)}}}]),n}(h);g._RF.pop(),g._RF.push({},"1b26bLbr8tJN6d6+QFwilwN","SlotUISettingsToggle.view",void 0);var be=m.ccclass,ve=(m.property,be(me=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._container=null,n._btnToggleSettings=null,n._btnClose=null,n._btnHelp=null,n._btnSettings=null,n._panelSubButtonsContainer=null,n._panelSettings=null,n._panelHelp=null,n._panelHelpClose=null,n}e(n,t);var i=n.prototype;return i.createNewController=function(){return this.Model=new ye,new ge(this.Model)},i.onLoad=function(){t.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},i.init=function(t){this.setIsShow(!1)},i._setupProperty=function(){this._container=this.node.getChildByPath("Container"),this._container.active=!1,this._btnToggleSettings=this.node.getChildByPath("btnToggleSettings").getComponent(E),this._btnClose=this.node.getChildByPath("Container/btnClose").getComponent(E),this._btnHelp=this.node.getChildByPath("Container/SubBtnsContainer/btnHelp").getComponent(E),this._btnSettings=this.node.getChildByPath("Container/SubBtnsContainer/btnSettings").getComponent(E),this._panelSubButtonsContainer=this.node.getChildByPath("Container/SubBtnsContainer"),this._panelSettings=this.node.getChildByPath("Container/SettingsPanel").getComponent(fe),this._panelHelp=this.node.getChildByPath("Container/HelpPanel/Container"),this._panelHelpClose=this.node.getChildByPath("Container/HelpPanel/Container/btnClose").getComponent(E)},i._setupEvent=function(){this._btnToggleSettings.node.on("click",this.onToggleSettingsClicked,this),this._btnClose.node.on("click",this.onCloseClicked,this),this._btnSettings.node.on("click",this.onBtnSettingsClicked,this),this._btnHelp.node.on("click",this.onBtnHelpClicked,this),this._panelHelpClose.node.on("click",this.onCloseClicked,this)},i.setIsInteractable=function(t){this._btnToggleSettings.interactable=t},i.setIsShow=function(t){this._container.active=t,t&&(this._panelSubButtonsContainer.active=!0,this._panelSettings.node.active=!1,this._panelHelp.active=!1)},i.onToggleSettingsClicked=function(){l.Instance.playOneShotSfx(tt.Instance.sfxSoftClick),this._panelSubButtonsContainer.active=!1,this._panelSettings.node.active=!0,this.setIsShow(!0)},i.onCloseClicked=function(){l.Instance.playOneShotSfx(tt.Instance.sfxSoftClick),this.setIsShow(!1)},i.onBtnSettingsClicked=function(){l.Instance.playOneShotSfx(tt.Instance.sfxSoftClick),this._panelSubButtonsContainer.active=!1,this._panelSettings.node.active=!0},i.onBtnHelpClicked=function(){l.Instance.playOneShotSfx(tt.Instance.sfxSoftClick),this._panelSubButtonsContainer.active=!1,this._panelHelp.active=!0},n}(p))||me);g._RF.pop(),g._RF.push({},"4a8edCME41Gmb4jRCEZP8bG","SlotUISpin.controller",void 0);var Se=function(t){function n(n){var e;return(e=t.call(this,n)||this)._model.autoPlayOptions={isAutoPlay:!1,totalSpins:0,lossLimit:0,isStopOnBonus:!1},e}e(n,t);var i=n.prototype;return i.setIsAutoPlay=function(t){var n=this._model.autoPlayOptions;n.isAutoPlay=t,this.setAutoPlayOptions(n)},i.setAutoPlayOptions=function(t){this._model.autoPlayOptions=t},i.resetPlayStats=function(){this._model.playStats={totalSpins:0,winLose:0,isHitBonus:!1}},i.updateTotalSpin=function(t){this._model.playStats=u({},this._model.playStats,{totalSpins:t})},i.accumulateWinLose=function(t){var n=Q(this._model.playStats.winLose,t);this._model.playStats=u({},this._model.playStats,{winLose:n})},i.updateIsHitBonus=function(t){this._model.playStats=u({},this._model.playStats,{isHitBonus:t})},i.setSpinCount=function(t){this._model.spinCount=t},i.setBetState=function(t){this._model.betState=t},i.setIsDontPrompt100Spin=function(t){this._model.isDontPrompt100Spin=t},i.setIsTurbo=function(t){this._model.isTurbo=t},i.updateBetAmount=function(t,n){this._model.betLines=t,this._model.betPerLine=n,this._model.betAmount=t*n},i.setIsAudioOn=function(t){this._model.isAudioOn=t},n}(c);g._RF.pop(),g._RF.push({},"0ba74P+n9BPvLTOTNeDmGVc","SlotUISpin.model",void 0);var Ie,Ce,Pe,Ae,we=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).betState=void 0,n.onAutoPlayOption=new _,n._autoPlayOption=null,n.onPlayStats=new _,n._playStats={totalSpins:0,winLose:0,isHitBonus:!1},n.onSpinCount=new _,n._spinCount=0,n._isDontPrompt100Spin=!1,n._isTurbo=!1,n._betLines=0,n._betPerLine=0,n.onBetAmount=new _,n._betAmount=0,n._isAudioOn=!1,n}return e(n,t),s(n,[{key:"autoPlayOptions",get:function(){return this._autoPlayOption},set:function(t){if(this._autoPlayOption!=t){var n=this._autoPlayOption;this._autoPlayOption=t,this.onAutoPlayOption.trigger(this._autoPlayOption,n)}}},{key:"playStats",get:function(){return this._playStats},set:function(t){if(this._playStats!=t){var n=this._playStats;this._playStats=t,this.onPlayStats.trigger(this._playStats,n)}}},{key:"spinCount",get:function(){return this._spinCount},set:function(t){if(this._spinCount!=t){var n=this._spinCount;this._spinCount=t,this.onSpinCount.trigger(this._spinCount,n)}}},{key:"isDontPrompt100Spin",get:function(){return this._isDontPrompt100Spin},set:function(t){this._isDontPrompt100Spin!=t&&(this._isDontPrompt100Spin=t)}},{key:"isTurbo",get:function(){return this._isTurbo},set:function(t){this._isTurbo!=t&&(this._isTurbo=t)}},{key:"betLines",get:function(){return this._betLines},set:function(t){this._betLines!=t&&(this._betLines=t)}},{key:"betPerLine",get:function(){return this._betPerLine},set:function(t){this._betPerLine!=t&&(this._betPerLine=t)}},{key:"betAmount",get:function(){return this._betAmount},set:function(t){if(this._betAmount!=t){var n=this._betAmount;this._betAmount=t,this.onBetAmount.trigger(this._betAmount,n)}}},{key:"isAudioOn",get:function(){var t=localStorage.getItem("audio_on");return this._isAudioOn=!t||"1"==t,this._isAudioOn},set:function(t){this._isAudioOn!=t&&(this._isAudioOn=t,localStorage.setItem("audio_on",t?"1":"0"))}}]),n}(h);g._RF.pop(),g._RF.push({},"f29ceHMtWRLh76heZAtsRgd","SlotUISpin.view",void 0);var Le,Be=m.ccclass,Oe=m.property;!function(t){t.DEFAULT="default",t.SHOW="show",t.HIDE="hide"}(Le||(Le={}));var Te=(Ie=Oe({type:se,visible:!0}),Be((Ae=n((Pe=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,i(n,"_autoPlayView",Ae,o(n)),n._anim=null,n._btnSpin=null,n._btnFeatureGame=null,n._btnStopSpin=null,n._btnAutoSpin=null,n._btnStopAutoSpin=null,n._btnSkip=null,n._tAutoplay=null,n._tInfiniteSpin=null,n._tgTurbo=null,n._betBetPerLineChanger=null,n._settingsTogglePanel=null,n._audioToggle=null,n}e(n,t);var s=n.prototype;return s.createNewController=function(){return this.Model=new we,new Se(this.Model)},s.onLoad=function(){t.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},s.init=function(t){this.setBetState(at.INIT),this._betBetPerLineChanger.node.emit("init"),this._autoPlayView.node.emit("init"),this._audioToggle.init(this.Model.isAudioOn)},s._setupProperty=function(){this._anim=this.node.getComponent(P),this._btnSpin=this.node.getChildByPath("Container/btnSpin").getComponent(E),this._btnFeatureGame=this.node.getChildByPath("Container/btnFeatureGame").getComponent(E),this._btnStopSpin=this.node.getChildByPath("Container/btnStopSpin").getComponent(E),this._btnAutoSpin=this.node.getChildByPath("Container/btnAutoSpin").getComponent(E),this._btnStopAutoSpin=this.node.getChildByPath("Container/btnStopAutoSpin").getComponent(E),this._btnSkip=this.node.getChildByPath("Container/btnSkip").getComponent(E),this._tgTurbo=this.node.getChildByPath("Container/btnTurbo").getComponent(te),this._betBetPerLineChanger=this.node.getChildByPath("Container/bet").getComponent(ce),this._settingsTogglePanel=this.node.getChildByPath("Container/SettingsTogglePanel").getComponent(ve),this._audioToggle=this.node.getChildByPath("Container/SettingsTogglePanel/Container/SettingsPanel/Container/AudioToggleView").getComponent(te)},s.onStartActivateAutoPlay=function(){var t=this;this._tInfiniteSpin=X(ln.AUTO_PLAY_TRIGGER_DELAY,(function(){N.Instance.AppState.state==nn.PLAYING&&t.Model.betState==at.READY_BET&&t._autoPlayView.onStartClicked()}))},s._setupEvent=function(){var t=this;this._btnSpin.node.on("click",this.onSpinClicked,this),this._btnFeatureGame.node.on("click",this.onFreeSpinClicked,this),this._btnSpin.node.on(k.EventType.TOUCH_START,this.onStartActivateAutoPlay,this),this._btnStopAutoSpin.node.on("click",this.onStopAutoSpinClicked,this),this._btnSkip.node.on("click",this.onSkipClicked,this),this._btnStopSpin.node.on("click",this.onSkipClicked,this),this._tgTurbo.node.on("toggle",this.onTurboToggled,this),M.on(k.EventType.KEY_DOWN,(function(n){n.keyCode==G.SPACE&&(t.onStopAutoSpinClicked(!1),t.Model.betState==at.READY_BET?t.onSpinClicked():t.onSkipClicked())}),this),M.on(k.EventType.KEY_PRESSING,(function(n){n.keyCode==G.SPACE&&(t.Model.betState==at.READY_BET?t.onSpinClicked():t.onSkipClicked())}),this),gn.Instance.on(dn.UPDATE_BET,this.onUpdateBet.bind(this)),gn.Instance.on(dn.CLICK_START_AUTO_PLAY,this.onStartAutoPlay.bind(this)),gn.Instance.on(dn.SHOW_BET_PANEL,(function(){t._anim.play(Le.SHOW)})),gn.Instance.on(dn.HIDE_BET_PANEL,(function(){t._autoPlayView.setIsShow(!1),t._anim.play(Le.HIDE)})),this.Model.onAutoPlayOption.on((function(n,e){t._btnAutoSpin.node.active=!n.isAutoPlay,t._btnStopAutoSpin.node.active=n.isAutoPlay})),this.Model.onPlayStats.on((function(n,e){if(t.Model.autoPlayOptions.isAutoPlay)t.Model.autoPlayOptions.totalSpins,n.totalSpins})),this.Model.onBetAmount.on((function(t,n){})),this._audioToggle.node.on("toggle",this.onAudioToggleChanged,this)},s.onAudioToggleChanged=function(t){l.Instance.playOneShotSfx(tt.Instance.sfxToggle),this.Ctrl.setIsAudioOn(t),l.Instance.IsSoundMute=!t},s.onTurboToggled=function(t){this.Ctrl.setIsTurbo(t),l.Instance.playOneShotSfx(t?tt.Instance.sfxTurboOn:tt.Instance.sfxTurboOff),gn.Instance.emit(dn.TOGGLE_TURBO,t)},s.setBetLinesOptions=function(t,n){this.Ctrl.updateBetAmount(t.length>0?t[t.length-1]:n,this._betBetPerLineChanger.Model.currValue)},s.setBetPerLineOptions=function(t,n){this._betBetPerLineChanger.setValueList(t),this._betBetPerLineChanger.setValueOption(n),this.Ctrl.updateBetAmount(this.Model.betLines,this._betBetPerLineChanger.Model.currValue)},s.onUpdateBet=function(){this.Model.betPerLine!=this._betBetPerLineChanger.Model.currValue&&l.Instance.playOneShotSfx(tt.Instance.sfxBetAmountChanged),this.Ctrl.updateBetAmount(this.Model.betLines,this._betBetPerLineChanger.Model.currValue),A(ln.LOG_TAG,"[onUpdateBet] betAmount: "+this.Model.betAmount+" (betLines:"+this.Model.betLines+", betPerLine:"+this.Model.betPerLine+")"),gn.Instance.emit(dn.UPDATED_BET)},s.setBetState=function(){var t=a(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next=t.t0===at.INIT?3:t.t0===at.READY_BET?8:t.t0===at.PLAYING?19:t.t0===at.STOPPING?27:t.t0===at.STOPPED?32:t.t0===at.FREE_GAME_AUTO?35:40;break;case 3:return this._btnSpin.node.active=!0,this._btnStopAutoSpin.node.active=!1,this._btnStopSpin.node.active=!1,this._btnSkip.node.active=!1,t.abrupt("break",40);case 8:return this._autoPlayHandler(),this._btnSpin.node.active=!this.Model.autoPlayOptions.isAutoPlay,this._btnSkip.node.active=!1,this._btnStopSpin.node.active=!1,this._btnStopAutoSpin.node.active=this.Model.autoPlayOptions.isAutoPlay,this._btnStopAutoSpin.interactable=this.Model.autoPlayOptions.isAutoPlay,this._btnSpin.interactable=!0,this._tgTurbo.setIsInteractable(!this.Model.autoPlayOptions.isAutoPlay),this._settingsTogglePanel.setIsInteractable(!this.Model.autoPlayOptions.isAutoPlay),this._betBetPerLineChanger.setIsInteractable(!this.Model.autoPlayOptions.isAutoPlay),t.abrupt("break",40);case 19:return this._tgTurbo.setIsInteractable(!1),this._betBetPerLineChanger.setIsInteractable(!1),this._settingsTogglePanel.setIsInteractable(!1),this._btnSpin.node.active=!1,this._btnStopSpin.node.active=!this.Model.autoPlayOptions.isAutoPlay,this._btnStopAutoSpin.node.active=this.Model.autoPlayOptions.isAutoPlay,this._btnSkip.node.active=!0,t.abrupt("break",40);case 27:return this._tgTurbo.setIsInteractable(!1),this._betBetPerLineChanger.setIsInteractable(!1),this._settingsTogglePanel.setIsInteractable(!1),this._btnSkip.node.active=!0,t.abrupt("break",40);case 32:return this._btnSkip.node.active=!0,this._btnStopAutoSpin.interactable=!1,t.abrupt("break",40);case 35:return this._btnSpin.node.active=!1,this._btnAutoSpin.node.active=!1,this._btnStopAutoSpin.node.active=!1,this._btnSkip.node.active=!1,t.abrupt("break",40);case 40:this.Ctrl.setBetState(n);case 41:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.startPlay=function(){this.Model.autoPlayOptions.isAutoPlay&&this.Ctrl.updateTotalSpin(this.Model.playStats.totalSpins+1),gn.Instance.emit(dn.CLICK_START_PLAY)},s.stopAutoPlay=function(){this.Ctrl.setIsAutoPlay(!1)},s.accumulateWinLose=function(t){this.Ctrl.accumulateWinLose(t)},s.setHasBonus=function(t){this._autoPlayView.setHasBonus(t)},s.updateIsHitBonus=function(t){this.Ctrl.updateIsHitBonus(t)},s._autoPlayHandler=function(){var t=this;if(this.Model.autoPlayOptions.isAutoPlay){var n=!0;if((-1!=this.Model.autoPlayOptions.totalSpins&&this.Model.playStats.totalSpins>=this.Model.autoPlayOptions.totalSpins||-1!=this.Model.autoPlayOptions.lossLimit&&this.Model.playStats.winLose<=-this.Model.autoPlayOptions.lossLimit||this.Model.autoPlayOptions.isStopOnBonus&&this.Model.playStats.isHitBonus)&&(n=!1),!n)return this.stopAutoPlay(),void this.setBetState(at.READY_BET);this._tAutoplay&&(this._tAutoplay.kill(),this._tAutoplay=null),this._tAutoplay=X(ln.AUTO_PLAY_INTERVAL,(function(){t.startPlay()}))}},s.onFreeSpinClicked=function(){N.Instance.EnvData.demoAccount.isCheatMode=!0,this._btnFeatureGame.node.active=!1,this.onSpinClicked()},s.onSpinClicked=function(){this._tInfiniteSpin&&(this._tInfiniteSpin.kill(),this._tInfiniteSpin=null),N.Instance.AppState.state==nn.PLAYING&&this.Model.betState==at.READY_BET&&(l.Instance.playOneShotSfx(tt.Instance.sfxSpinStart),this.startPlay())},s.onAutoSpinClicked=function(){this._tAutoplay&&(this._tAutoplay.kill(),this._tAutoplay=null),l.Instance.playOneShotSfx(tt.Instance.sfxClick),this._autoPlayView.setIsShow(!0)},s.onStopAutoSpinClicked=function(t){void 0===t&&(t=!0),t&&l.Instance.playOneShotSfx(tt.Instance.sfxSpinStop),this._btnStopAutoSpin.node.active=!1,this._btnStopSpin.node.active=!0,this.stopAutoPlay()},s.onSkipClicked=function(){this._tInfiniteSpin&&(this._tInfiniteSpin.kill(),this._tInfiniteSpin=null),N.Instance.AppState.state==nn.PLAYING&&(gn.Instance.emit(dn.CLICK_SKIP_PLAY),this._btnSpin.node.active=!this.Model.autoPlayOptions.isAutoPlay,this._btnStopSpin.node.active=!1,this._btnSpin.interactable=!1)},s.onStartAutoPlay=function(t){l.Instance.playOneShotSfx(tt.Instance.sfxSpinStart),this.Ctrl.setAutoPlayOptions(t),this.Ctrl.resetPlayStats(),this.startPlay()},n}(p)).prototype,"_autoPlayView",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=Pe))||Ce);g._RF.pop(),g._RF.push({},"5567cMcP5xDTrPtresvVZvS","SlotUIControl.controller",void 0);var Ee=function(t){function n(n){return t.call(this,n)||this}return e(n,t),n.prototype.setBetState=function(t){this._model.betState=t},n}(c);g._RF.pop(),g._RF.push({},"73f5bXxbF1Lo6EOQxD4Rr26","SlotUIControl.model",void 0);var Re,Me=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).onBetState=new _,n._betState=at.INIT,n}return e(n,t),s(n,[{key:"betState",get:function(){return this._betState},set:function(t){if(this._betState!=t){var n=this._betState;this._betState=t,this.onBetState.trigger(this._betState,n)}}}]),n}(h);g._RF.pop(),g._RF.push({},"d64f5+GKEpAs734SYMiZIPq","SlotUIControl.view",void 0);var ke=m.ccclass,Ge=(m.property,ke(Re=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._gameInfoView=null,n._spinView=null,n._footerView=null,n._bigWinView=null,n}e(n,t);var i=n.prototype;return i.createNewController=function(){return this.Model=new Me,new Ee(this.Model)},i.onLoad=function(){t.prototype.onLoad.call(this),this._setupProperty(),this._setupEvent()},i.init=function(t){this._gameInfoView.node.emit("init"),this._spinView.node.emit("init"),this._footerView.node.emit("init")},i._setupProperty=function(){this._gameInfoView=this.node.getChildByPath("===UI-LAYER===/Header/GameInfoView").getComponent(Qn),this._spinView=this.node.getChildByPath("===GAME-LAYER===/FooterView").getComponent(Te),this._footerView=this.node.getChildByPath("===GAME-LAYER===/FooterView").getComponent(Dn),this._bigWinView=this.node.getChildByPath("===GAME-LAYER===/BigWinView").getComponent(fn)},i._setupEvent=function(){var t=this;this.Model.onBetState.on((function(n,e){t._spinView.setBetState(n),t._footerView.setBetState(n,t._spinView.Model.autoPlayOptions.isAutoPlay)}))},i.setBetState=function(t){this.Ctrl.setBetState(t)},i.setIsDemoMode=function(t){this._footerView.setIsDemoMode(t)},i.setPlayerId=function(t){this._gameInfoView.setPlayerId(t)},i.setGameId=function(t){this._gameInfoView.setGameId(t)},i.setBalance=function(t){this._footerView.setBalance(t)},i.accumulateWinLose=function(t){this._spinView.accumulateWinLose(t)},i.setHasBonus=function(t){this._spinView.setHasBonus(t)},i.updateIsHitBonus=function(t){this._spinView.updateIsHitBonus(t)},i.setBetData=function(t,n,e,i){if(this._spinView.setBetLinesOptions(t,e),this._spinView.setBetPerLineOptions(n,i),t.length>0&&n.length>0){var o=t[t.length-1]*n[0];this._bigWinView.setMinimumBetAmount(o)}},i.setCurrentBetData=function(t){this._bigWinView.setCurrentBetAmount(t)},i.showBalance=function(t,n){this._footerView.showBalance(t,n)},i.stopBalance=function(){this._footerView.stopBalance()},i.stopAutoPlay=function(){this._spinView.stopAutoPlay()},i.showPayoutMessage=function(t,n,e){void 0===n&&(n=0),this._footerView.showPayoutMessage(t,n,e)},i.stopPayoutMessage=function(){this._footerView.stopPayoutMessage()},i.showPayLineMessage=function(t,n){this._footerView.showPayLineMessage(t,n)},i.checkIsBigWin=function(t){return this._bigWinView.checkIsBigWin(t)},i.showBigWin=function(t,n,e){void 0===n&&(n=!1),this._bigWinView.show(t,n,e)},s(n,[{key:"GameInfoModel",get:function(){return this._gameInfoView.Model}},{key:"SpinModel",get:function(){return this._spinView.Model}},{key:"FooterModel",get:function(){return this._footerView.Model}}]),n}(p))||Re);g._RF.pop(),g._RF.push({},"914caCCIBZBi7nG7nieN6m3","SlotUIGame.controller",void 0);var xe=function(t){function n(n){var e;return(e=t.call(this,n)||this)._model.IsLanguageSwitched=!0,e._model.Options=null,e}e(n,t);var i=n.prototype;return i.init=function(t){var n;A(ln.LOG_TAG,"Init Loading Options: ",t);var e,i=(e=t.language).includes("en")||e.includes("us")?rt.EN:e.includes("zh")||e.includes("cn")||e.includes("tw")?rt.CN:ln.DEFAULT_LANGUAGE;this._model.IsLanguageSwitched=(null==(n=this._model.Options)?void 0:n.language)!=i,this._model.Options=t,this._model.Options.language=i},i.triggerOnReady=function(){var t,n;null==(t=(n=this._model.Options).onReady)||t.call(n)},i.triggerOnClose=function(){var t,n;null==(t=(n=this._model.Options).onClose)||t.call(n)},i.triggerOnGetUIView=function(t){var n,e;null==(n=(e=this._model.Options).onGetUIView)||n.call(e,t)},i.triggerOnGetGameRuleData=function(){var t,n;return null==(t=(n=this._model.Options).onGetGameRuleData)?void 0:t.call(n)},i.triggerOnGetPaytableData=function(){var t,n;return null==(t=(n=this._model.Options).onGetPaytableData)?void 0:t.call(n)},i.triggerOnGetGameHistoryData=function(){var t,n;return null==(t=(n=this._model.Options).onGetGameHistoryData)?void 0:t.call(n)},i.bindEvent=function(t,n){this._model.eventsMap.set(t,n)},i.unbindEvent=function(t){this._model.eventsMap.delete(t)},i.triggerEvent=function(t){if(this._model.eventsMap.has(t)){A(ln.LOG_TAG,"[triggerEvent]:"+t);for(var n=this._model.eventsMap.get(t),e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];n.apply(void 0,i)}},n}(c);g._RF.pop(),g._RF.push({},"eadcbsrWR9PV5zZN3z9rV0R","SlotUIGame.model",void 0);var Ve,Fe=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._eventsMap=new Map,n._options=null,n.onIsLanguageSwitched=new _,n._isLanguageSwitched=null,n}return e(n,t),s(n,[{key:"eventsMap",get:function(){return this._eventsMap}},{key:"Options",get:function(){return this._options},set:function(t){this._options!=t&&(this._options=t)}},{key:"IsLanguageSwitched",get:function(){return this._isLanguageSwitched},set:function(t){if(this._isLanguageSwitched!=t){var n=this._isLanguageSwitched;this._isLanguageSwitched=t,this.onIsLanguageSwitched.trigger(t,n)}}}]),n}(h);g._RF.pop(),g._RF.push({},"9397dlYwfRBX580D5Xg889O","SlotUIGame.view",void 0);var De=m.ccclass;m.property,t("S",De(Ve=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._container=null,n._cachePrefabMap=new Map,n._controlView=null,n}e(n,t);var i=n.prototype;return i.createNewController=function(){return this.Model=new Fe,new xe(this.Model)},i.onLoad=function(){t.prototype.onLoad.call(this),this._setupManager(),this._setupProperty(),this._setupComponent(),this._setupEvent()},i.init=function(){},i._setupManager=function(){},i._setupProperty=function(){this._container=this.node.getChildByName("Container"),this._controlView=this.node.getChildByPath("Container/Viewport").getComponent(Ge)},i._setupComponent=function(){this.node.addComponent(d)},i._setupEvent=function(){this.node.on(an.OPTIONS,this._initGameOptions,this),this.node.on(an.SHOW,this._onPanelShow,this),this.node.on(an.CLOSE,this._onPanelClose,this),gn.Instance.on(dn.REQUEST_OPEN_GAME_RULE,this.onRequestOpenGameRule.bind(this)),gn.Instance.on(dn.REQUEST_OPEN_BET_HISTORY,this.onRequestOpenBetHistory.bind(this)),gn.Instance.on(dn.TOGGLE_AUDIO,this.onToggleAudio.bind(this)),gn.Instance.on(dn.TOGGLE_TURBO,this.onToggleTurbo.bind(this)),gn.Instance.on(dn.CLICK_START_PLAY,this.onStartPlay.bind(this)),gn.Instance.on(dn.CLICK_SKIP_PLAY,this.onSkipPlay.bind(this)),gn.Instance.on(dn.UPDATED_BET,this.onUpdatedBet.bind(this)),this.Model.onIsLanguageSwitched.on((function(t,n){A(ln.LOG_TAG,t,n)}))},i._initGameOptions=function(){var t=a(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ctrl.init(n),t.next=3,this._setupGamePrefabs();case 3:return t.next=5,this._setupView();case 5:this.Ctrl.triggerOnReady();case 6:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),i._setupGamePrefabs=function(){var t=a(r().mark((function t(){var n,e,i,o,s,a,l=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Model.IsLanguageSwitched){t.next=2;break}return t.abrupt("return");case 2:if(null==(n=tt.Instance)||n.node.destroy(),e=this.Model.Options.bundleName,i="prefab/i18n/"+this.Model.Options.language+"/"+ln.THIS_GAME_RESOURCE_PREFAB_NAME,o="prefab/i18n/"+this.Model.Options.language+"/"+ln.THIS_GAME_LOCALIZE_PREFAB_NAME,f.Instance.isBundleLoaded(e)){t.next=9;break}return t.next=9,new Promise((function(t){f.Instance.loadBundle(e,(function(n,e){t()}))}));case 9:if(this._cachePrefabMap.has(i)&&this._cachePrefabMap.has(o)){t.next=14;break}return s=f.Instance.getBundleAsset(e,i,null,(function(t){l._cachePrefabMap.has(i)||l._cachePrefabMap.set(i,t)}),(function(t){t("Failed to load game resource prefab: ",t)})),a=f.Instance.getBundleAsset(e,o,null,(function(t){l._cachePrefabMap.has(o)||l._cachePrefabMap.set(o,t)}),(function(t){t("Failed to load game localize prefab: ",t)})),t.next=14,Promise.all([s,a]);case 14:B(this._cachePrefabMap.get(i)).parent=this.node,B(this._cachePrefabMap.get(o)).parent=this.node;case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i._setupView=function(){var t=a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._controlView.node.emit("init"),t.next=3,z(.1);case 3:this.Ctrl.triggerOnGetUIView(this);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.bindEvent=function(t,n){this.Ctrl.bindEvent(t,n)},i.unbindEvent=function(t){this.Ctrl.unbindEvent(t)},i.setHasBonus=function(t){this._controlView.setHasBonus(t)},i.setBetState=function(t){A(ln.LOG_TAG,"[setBetState] "+at[t]),this._controlView.setBetState(t)},i.setIsDemoMode=function(t){A(ln.LOG_TAG,"[setIsDemoMode] "+t),this._controlView.setIsDemoMode(t)},i.setPlayerId=function(t){A(ln.LOG_TAG,"[setPlayerId] "+t),this._controlView.setPlayerId(t)},i.setGameId=function(t){A(ln.LOG_TAG,"[setGameId] "+t),this._controlView.setGameId(t)},i.setBalance=function(t){A(ln.LOG_TAG,"[setBalance] "+t),this._controlView.setBalance(t)},i.accumulateWinLose=function(t){this._controlView.accumulateWinLose(t),A(ln.LOG_TAG,"[accumulateWinLose] WinLose:"+this._controlView.SpinModel.playStats.winLose+" ("+t+")")},i.updateIsHitBonus=function(t){A(ln.LOG_TAG,"[updateIsHitBonus] "+t),this._controlView.updateIsHitBonus(t)},i.setBetData=function(t,n,e,i){A(ln.LOG_TAG,"[setBetData] betLinesOptions:"+JSON.stringify(t)+", betPerLineOptions:"+JSON.stringify(n)+", defaultBetLineValue:"+e+", defaultBetPerLineValue:"+i),this._controlView.setBetData(t,n,e,i)},i.setCurrentBetData=function(t){this._controlView.setCurrentBetData(t)},i.getBetState=function(){return this._controlView.Model.betState},i.getGameId=function(){return this._controlView.GameInfoModel.gameId},i.getBalance=function(){return this._controlView.FooterModel.balance},i.getBetOptions=function(){return{betLines:this._controlView.SpinModel.betLines,betAmount:this._controlView.SpinModel.betPerLine,totalBet:$(this._controlView.SpinModel.betLines,this._controlView.SpinModel.betPerLine),autoPlayOptions:this._controlView.SpinModel.autoPlayOptions}},i.getPlayStats=function(){return this._controlView.SpinModel.playStats},i.getIsAudioOn=function(){return this._controlView.SpinModel.isAudioOn},i.getIsTurbo=function(){return this._controlView.SpinModel.isTurbo},i.showBalance=function(t,n){this._controlView.showBalance(t,n)},i.stopBalance=function(){this._controlView.stopBalance()},i.stopAutoPlay=function(){this._controlView.stopAutoPlay()},i.showPayoutMessage=function(t,n,e){void 0===n&&(n=0),A(ln.LOG_TAG,"[showPayoutMessage] isWin:"+t+", winAmount:"+n),this._controlView.showPayoutMessage(t,n,e)},i.stopPayoutMessage=function(){this._controlView.stopPayoutMessage()},i.showPayLineMessage=function(t,n){A(ln.LOG_TAG,"[showPayLineMessage] payMesage:"+t+", imgTotems.length:"+(null==n?void 0:n.length))},i.showAlertMessage=function(t,n,e,i){A(ln.LOG_TAG,"[showAlertMessage] title:"+t+", message:"+n),gn.Instance.emit(dn.OPEN_ALERT,t,n,e,i)},i.showBetPanel=function(){gn.Instance.emit(dn.SHOW_BET_PANEL)},i.hideBetPanel=function(){gn.Instance.emit(dn.HIDE_BET_PANEL)},i.checkIsBigWin=function(t){return this._controlView.checkIsBigWin(t)},i.showBigWin=function(t,n,e){void 0===n&&(n=!1),this._controlView.showBigWin(t,n,e)},i._onPanelShow=function(){A(ln.LOG_TAG,"Showing "+this.Model.Options.bundleName+" system"),this._container.active=!0},i._onPanelClose=function(){A(ln.LOG_TAG,"Closing "+this.Model.Options.bundleName+" system"),this._container.active=!1,this.Ctrl.triggerOnClose(),this.destroy()},i.onRequestOpenGameRule=function(){var t=this.Ctrl.triggerOnGetGameRuleData(),n=this.Ctrl.triggerOnGetPaytableData(),e=this.getBetOptions();A(ln.LOG_TAG,"[onRequestOpenGameRule]"),gn.Instance.emit(dn.OPEN_GAME_RULE,t,n,e)},i.onRequestOpenBetHistory=function(){var t=this.Ctrl.triggerOnGetGameHistoryData();A(ln.LOG_TAG,"[onRequestOpenBetHistory] Url:"+t),gn.Instance.emit(dn.OPEN_BET_HISTORY,t)},i.onToggleAudio=function(t){A(ln.LOG_TAG,"[onToggleAudio] "+t),this.Ctrl.triggerEvent(an.TOGGLE_AUDIO,t)},i.onToggleTurbo=function(t){A(ln.LOG_TAG,"[onToggleTurbo] "+t),this.Ctrl.triggerEvent(an.TOGGLE_TURBO,t)},i.onStartPlay=function(){var t={betLines:this._controlView.SpinModel.betLines,betAmount:this._controlView.SpinModel.betPerLine,totalBet:$(this._controlView.SpinModel.betLines,this._controlView.SpinModel.betPerLine),autoPlayOptions:this._controlView.SpinModel.autoPlayOptions};A(ln.LOG_TAG,"[onStartPlay] "+JSON.stringify(t)),this.Ctrl.triggerEvent(an.START_PLAY,t)},i.onSkipPlay=function(){A(ln.LOG_TAG,"[onSkipPlay]"),this.Ctrl.triggerEvent(an.SKIP_PLAY)},i.onUpdatedBet=function(){this.Ctrl.triggerEvent(an.BET_CHANGED,this.getBetOptions())},n}(p))||Ve);g._RF.pop()}}}));

System.register("chunks:///TweenHelper-b35a04c2.js",["./CoreModelEvent-3de9f67c.js","cc"],(function(t){"use strict";var e,n,i,r,s,o,a,u,h,c,l,p,f,d,m,v,g,y,w;return{setters:[function(t){e=t.f,n=t.d,i=t.e,r=t.g,s=t.k,o=t.a,a=t.c,u=t._,h=t.b},function(t){c=t.cclegacy,l=t.sys,p=t.log,f=t._decorator,d=t.Vec3,m=t.Component,v=t.Node,g=t.NodePool,y=t.instantiate,w=t.Animation}],execute:function(){c._RF.push({},"d3e266ilJNJnZmdz8JhPhBJ","WebHelper",void 0);var _=t("g",(function(t,e){var n,i,r,s;if(l.isBrowser){var o=null,a=location.search;if("undefined"!=typeof URLSearchParams?o=new URLSearchParams(a):(n=(a||location.search).substr(1),i={},s=function(t){return i[t]},(r=function(){n.split("&").reduce((function(t,e){var n=e.split("="),i=n[0],r=n[1];return t[i]=r,t}),i)})(),o={parseQuerstring:r,has:function(t){return null!=s(t)},get:s}),o.has(t))return o.get(t)}return null!=e?e:""})),b=(t("i",(function(t,e){if(l.isBrowser&&history.pushState){var n=new URLSearchParams(window.location.search);n.set(t,e);var i=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+n.toString();window.history.pushState({path:i},"",i)}})),function(t){var e=[];for(var n in t)e.push(n+"="+t[n]);return e.join("&")});c._RF.pop(),c._RF.push({},"2d2a76UspNHZYOZndRGJfiv","DataManager",void 0),t("D",function(){function t(){this._appState={state:null},this._envData=null,this._gameData={me:null,getPaytable:null},this._paytable=null,this._payline=null,this._gameGoesIntoBgTimestamp=0,this._playerData=null}return t.prototype.checkCheatCode=function(){this.EnvData.demoAccount.isCheatMode="showmeyourmoney"==_("code")},e(t,[{key:"AppState",get:function(){return this._appState},set:function(t){this._appState=t}},{key:"EnvData",get:function(){return this._envData||(this._envData={apiUrl:"",betHistoryUrl:"",gameId:"",langauage:"",isActiveDemo:!1,demoAccount:null}),this._envData}},{key:"GameData",get:function(){return this._gameData},set:function(t){this._gameData=t}},{key:"Paytable",get:function(){return this._paytable},set:function(t){this._paytable=t}},{key:"Payline",get:function(){return this._payline},set:function(t){this._payline=t}},{key:"GameGoesIntoBgTimestamp",get:function(){return this._gameGoesIntoBgTimestamp},set:function(t){this._gameGoesIntoBgTimestamp=t}},{key:"PlayerData",get:function(){return this._playerData||(this._playerData={playerId:"",displayName:"",balance:0}),this._playerData}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,c._RF.pop();c._RF.push({},"06129d1qw1BRZj4piQJGuMT","Api.service",void 0);var k,E,S=function(){function t(t){void 0===t&&(t=!1),this._isDebug=!1,this._isDebug=t}return t.prototype.requestApi=function(){var e=n(i().mark((function e(n,r,s,o){var a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s=t.Method.GET),void 0===o&&(o=null),e.abrupt("return",new Promise((function(e){a.IsDebug&&p("%c[SEND]:","background:#D6EAF8;color:#1B4F72",n,o?"\n"+o:"");var i={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:r},method:s};s==t.Method.POST&&(i.body=o),fetch(n,i).then((function(t){var i=t.json().then((function(e){return a.IsDebug&&p("%c[RECEIVE]:","background:#D5F5E3;color:#186A3B",n,"\n",JSON.stringify(e)),t.ok?e:new Error(JSON.stringify(e))}));e(i)})).catch((function(t){t instanceof Error?e(t):e(new Error(t))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),e(t,[{key:"IsDebug",get:function(){return this._isDebug},set:function(t){this._isDebug=t}}]),t}();k=S||(S={}),function(t){t.GET="GET",t.POST="POST"}(E||(E={})),k.Method=E;var T=S;c._RF.pop(),c._RF.push({},"5433b6t0/9AAqwX/jZ/uop/","Api.manager",void 0),t("A",function(){function t(){this._apiService=void 0,this._apiBaseUrl=void 0,this._betHistoryApiBaseUrl=void 0,this._sessionToken=void 0,this._memberToken=void 0,this._apiService=new T(false)}var r=t.prototype;return r._getBearerToken=function(t){return null!=t&&t.startsWith("Bearer")?t:"Bearer "+t},r.launchGameDev=function(){var t=n(i().mark((function t(e,n){var r,s,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={player_unique_id:e.playerId,player_name:e.playerName,player_currency:e.currency,game_id:e.gameId,language:e.language,is_demo:e.isDemo?"1":"0"},s=b(r),o=this._apiBaseUrl+"/MOGI/dev/launch-game?"+s,t.next=5,this._apiService.requestApi(o,n,T.Method.GET).then((function(t){return t instanceof Error?new Error(t.message):t.error||t.errors?new Error(JSON.stringify(t)):t}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),r.launchGame=function(){var t=n(i().mark((function t(e,n){var r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={player_unique_id:e.playerId,player_name:e.playerName,player_currency:e.currency,game_id:e.gameId,language:e.language,is_demo:e.isDemo?"1":"0"},s=this._apiBaseUrl+"/MOGI/launch-game",t.next=4,this._apiService.requestApi(s,n,T.Method.POST,JSON.stringify(r)).then((function(t){return t instanceof Error?new Error(t.message):t.error||t.errors?new Error(JSON.stringify(t)):t}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),r.me=function(){var t=n(i().mark((function t(e){var n,r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._apiBaseUrl+"/auth/player/me",r=this._getBearerToken(this.SessionToken),s={slug:e},t.next=5,this._apiService.requestApi(n,r,T.Method.POST,JSON.stringify(s)).then((function(t){return t instanceof Error?new Error(t.message):t.error||t.errors?new Error(JSON.stringify(t)):t}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getGameInfo=function(){var t=n(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._apiBaseUrl+"/games/"+e,r=this._getBearerToken(this.SessionToken),t.next=4,this._apiService.requestApi(n,r,T.Method.GET).then((function(t){return t instanceof Error?new Error(t.message):t.error||t.errors?new Error(JSON.stringify(t)):t}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getPaytable=function(){var t=n(i().mark((function t(e,n){var r,s,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=b({game:e,land:n}),s=this._apiBaseUrl+"/game-tools/paytable?"+r,o=this._getBearerToken(this.SessionToken),t.next=6,this._apiService.requestApi(s,o,T.Method.GET).then((function(t){return t instanceof Error?new Error(t.message):t.error||t.errors?new Error(JSON.stringify(t)):t}));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),r.sync=function(){var t=n(i().mark((function t(e){var n,r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._apiBaseUrl+"/auth/player/sync",r=this._getBearerToken(this._memberToken),s={slug:e},t.next=5,this._apiService.requestApi(n,r,T.Method.POST,JSON.stringify(s)).then((function(t){return t instanceof Error?new Error(t.message):t.error||t.errors?new Error(JSON.stringify(t)):t}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.play=function(){var t=n(i().mark((function t(e,n){var r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._apiBaseUrl+"/play/"+e,s=this._getBearerToken(this._memberToken),t.next=4,this._apiService.requestApi(r,s,T.Method.POST,JSON.stringify(n)).then((function(t){return t instanceof Error?new Error(t.message):t.error||t.errors?new Error(JSON.stringify(t)):t}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),r.bonus=function(){var t=n(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._apiBaseUrl+"/bonus",r=this._getBearerToken(this._memberToken),t.next=4,this._apiService.requestApi(n,r,T.Method.POST,JSON.stringify(e)).then((function(t){return t instanceof Error?new Error(t.message):t.error||t.errors?new Error(JSON.stringify(t)):t}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.play100=function(){var t=n(i().mark((function t(e,n){var r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._apiBaseUrl+"/play-100/"+e,s=this._getBearerToken(this._memberToken),t.next=4,this._apiService.requestApi(r,s,T.Method.POST,JSON.stringify(n)).then((function(t){return t instanceof Error?new Error(t.message):t.error||t.errors?new Error(JSON.stringify(t)):t}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),r.convertPlay100ToPlayResponse=function(t){var e,n=t.spins[t.spins.length-1];return{slots:n.slots,matches:n.matches,scatters:n.scatters,bonus:n.bonus,freebie:n.freebie,unlocked_freebie:n.unlocked_freebie,total_win:n.total_win,bonusLevel:t.bonusLevel||0,balance:t.balance||0,transaction_id:t.transaction_id||0,extra:{game_roundId:(null==(e=t.extra)?void 0:e.game_roundId)||""}}},e(t,[{key:"ApiBaseUrl",set:function(t){this._apiBaseUrl=t}},{key:"BetHistoryApiBaseUrl",get:function(){return this._betHistoryApiBaseUrl},set:function(t){this._betHistoryApiBaseUrl=t}},{key:"SessionToken",get:function(){if(!this._sessionToken){var t=_("a");this._sessionToken=t}return this._sessionToken}},{key:"MemberToken",get:function(){return this._memberToken},set:function(t){this._memberToken=t}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,c._RF.pop(),c._RF.push({},"55fdbvY2hlOmZ88yP69OWA5","log",void 0);var M=0,P=1,x=2;c._RF.pop(),c._RF.push({},"47eb9ouybdDM5dGwbb867p0","easingType",void 0);var C="linear",F="inOutQuad",I="outCubic",O="inOutCubic",R="inSine",D="outBack";c._RF.pop(),c._RF.push({},"813dcL71MRCqJK6YPTP/1qe","easing",void 0);var B=Math.PI,A=Math.PI/2,N=1.70158,U={linear:function(t){return t},inQuad:function(t){return t*t},outQuad:function(t){return 2*t-t*t},inOutQuad:function(t){return t<.5?2*t*t:2*(2*t-t*t)-1},inCubic:function(t){return t*t*t},outCubic:function(t){return 3*t-3*t*t+t*t*t},inOutCubic:function(t){return t<.5?4*t*t*t:4*(3*t-3*t*t+t*t*t)-3},inQuart:function(t){return t*t*t*t},outQuart:function(t){var e=t*t;return 4*t-6*e+4*e*t-e*e},inOutQuart:function(t){if(t<.5)return 8*t*t*t*t;var e=t*t;return 8*(4*t-6*e+4*e*t-e*e)-7},inSine:function(t){return 1===t?1:1-Math.cos(A*t)},outSine:function(t){return Math.sin(A*t)},inOutSine:function(t){return t<.5?(1-Math.cos(B*t))/2:(1+Math.sin(B*(t-.5)))/2},inCirc:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},outCirc:function(t){return Math.sqrt(1-Math.pow(1-t,2))},inOutCirc:function(t){return t<.5?(1-Math.sqrt(1-4*t*t))/2:(1+Math.sqrt(8*t-3-4*t*t))/2},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return--t*t*t*t*t+1},InOutQuint:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},inExponential:function(t){return 1===t?1:0===t?0:Math.pow(1024,t-1)},outExponential:function(t){return 1===t?1:1-Math.pow(2,-10*t)},inOutExponential:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},inElastic:function(t){return 0===t?0:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},outElastic:function(t){return 1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},inOutElastic:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1},inBack:function(t){return 0===t?0:1===t?1:t*t*((N+1)*t-N)},outBack:function(t){return 0===t?0:--t*t*((N+1)*t+N)+1},inOutBack:function(t){var e=2.5949095;return 0===(t*=2)?0:t<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},outBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inBounce:function(t){return 1-U.outBounce(1-t)},inOutBounce:function(t){return t<.5?.5*U.inBounce(2*t):.5*U.outBounce(2*t-1)+.5}},z=U;function J(t,e){for(var n=e.split("."),i=t,r=0;r<n.length-1;r++)i=i[n[r]];return i}function q(t){var e=t.split(".");return e[e.length-1]}function L(t,e){var n={};return n[q(t)]=e,n}function j(t,e,n){var i=r({},{scaleX:"scale.x",scaleY:"scale.y",amplitude:.5,duration:2e3,bounce:5,friction:2,sinX:0},n||{}),s=J(e,i.scaleX),o=q(i.scaleX),a=q(i.scaleY),u={x:s[o],y:s[a]};return t.tween({}).to({},i.duration).setEasing(O).onUpdate((function(t,e){var n=Math.pow(1-e,i.friction),r=e*i.bounce%i.duration;s[o]=u.x+Math.sin(i.sinX+r*Math.PI*2)*i.amplitude*n,s[a]=u.y+Math.sin(r*Math.PI*2)*i.amplitude*n})).onKilled((function(){s[o]=u.x,s[a]=u.y}))}c._RF.pop(),c._RF.push({},"f6b80HVbn9Ou4OfCmZjNTiw","preset",void 0),c._RF.pop(),c._RF.push({},"18762pH5GFPh7ZPOPcAQS4m","state",void 0);var G=0,H=1,X=2,Q=3,Z=4;c._RF.pop(),c._RF.push({},"7e93blSDpNLyazfJjNCODfJ","ticker",void 0);var K=function(){function t(){this.state=G,this.timescale=1,this.elapsed=0,this.duration=0,this.tickCb=void 0,this.ticks=new Set,this.newTicks=new Set,this.parent=void 0,this.dt=0}var n=t.prototype;return n.setParent=function(t,e){this.tickCb=e,this.parent=t},n.setTimescale=function(t){this.timescale=t},n.addTick=function(t){this.newTicks.add(t)},n.removeTick=function(t){this.ticks.delete(t)||this.newTicks.delete(t)},n.tick=function(t){var e=this;this.state===H&&(this.dt=t*this.timescale,this.newTicks.size>0&&(this.newTicks.forEach((function(t){return e.ticks.add(t)})),this.newTicks.clear()),this.ticks.forEach((function(t){return t(e.dt)})),this.elapsed+=this.dt)},n.start=function(){this.state===G&&(this.state=H)},n.pause=function(){this.state===H&&(this.state=X)},n.resume=function(){this.state===X&&(this.state=H)},n.kill=function(){this.state>=3||(this.parent&&this.tickCb&&this.parent.removeTick(this.tickCb),this.state=Z)},n.skip=function(){},n.reset=function(){this.state=G},e(t,[{key:"isIdle",get:function(){return this.state===G}},{key:"isRunning",get:function(){return this.state===H}},{key:"isFinished",get:function(){return this.state>=3}},{key:"isPaused",get:function(){return this.state===X}}]),t}();c._RF.pop(),c._RF.push({},"7ce21Mv/NNGzJy1mT6c6X9U","baseTween",void 0);var W=function(){function t(){this.events={},this.elapsed=0,this.duration=0,this.timescale=1,this.state=G,this.loop=void 0,this.yo=void 0,this.parent=void 0,this.tickCb=void 0,this.first=!0,this.settings=void 0}var n=t.prototype;return n.start=function(){return this.state!==G||(this.first?this.validate():this.check(),this.state=H,this.parent.addTick(this.tickCb),this.first&&(this.emitEvent(this.events.start),this.first=!1)),this},n.reset=function(t){this.state=G,t||this.removeParent(),this.loop&&(this.loop.value=this.loop.original),this.loopInit(),this.emitEvent(this.events.restart)},n.resetAndStart=function(t){this.loopInit(),this.emitEvent(this.events.restart),this.state=H,t>0&&this.tickCb(t)},n.setParent=function(t){return this.removeParent(),this.parent=t,this},n.setTimescale=function(t){return this.timescale=t,this},n.pause=function(){this.state===H?(this.state=X,this.removeParent()):this.info(P,"Cannot pause this tween ",this.state)},n.resume=function(){this.state===X?(this.state=H,this.parent.addTick(this.tickCb)):this.info(P,"Cannot resume this tween ",this.state)},n.skip=function(t){if(this.state>=3)this.info(P,"Cannot skip this tween ",this.state);else if(this.state===G&&this.emitEvent(this.events.start),t){var e=this.yo?this.yo.value*this.duration:0;this.tickCb(this.duration-this.elapsed+e)}else this.elapsed=this.duration,this.complete()},n.kill=function(){this.state!==Z?(this.state=Z,this.removeParent(),this.emitEvent(this.events.kill)):this.info(P,"Cannot kill this tween ",this.state)},n.setLoop=function(t){return this.loop||(this.loop={original:1,value:1}),this.loop.original=Math.round(t),this.loop.value=this.loop.original,this},n.setSettings=function(t){return this.settings?Object.assign(this.settings,t):this.settings=t,this},n.complete=function(){this.state>=3?this.info(P,"Cannot complete this tween ",this.state):(this.state=Q,this.removeParent(),this.emitEvent(this.events.complete))},n.removeParent=function(){this.parent&&this.parent.removeTick(this.tickCb)},n.check=function(){},n.validate=function(){},n.loopInit=function(){this.elapsed=0},n.info=function(t,e,n){!this.settings||t>this.settings.logLevel||console.log(e,n)},n.emit=function(t,e){if(this.settings&&!this.settings.safe)return t.apply(this,e);try{t.apply(this,e)}catch(t){console.warn(t)}},n.emitEvent=function(t,e){if(t)if(t instanceof Array)for(var n,i=s(t);!(n=i()).done;){var r=n.value;this.emit(r,e)}else this.emit(t,e)},n.toPromise=function(){var t=this;return new Promise((function(e){t.onComplete((function(){return e(t)})),t.onKilled((function(){return e(t)}))}))},n.onStart=function(t){return this.onEvent("start",t)},n.onRestart=function(t){return this.onEvent("restart",t)},n.onUpdate=function(t){return this.onEvent("update",t)},n.onKilled=function(t){return this.onEvent("kill",t)},n.onComplete=function(t){return this.onEvent("complete",t)},n.onEvent=function(t,e){return this.events[t]?this.events[t]instanceof Array?this.events[t].push(e):this.events[t]=[this.events[t],e]:this.events[t]=e,this},e(t,[{key:"isIdle",get:function(){return this.state===G}},{key:"isRunning",get:function(){return this.state===H}},{key:"isFinished",get:function(){return this.state>=3}},{key:"isPaused",get:function(){return this.state===X}}]),t}();c._RF.pop(),c._RF.push({},"99dbbaH3GZFPZWdW6lIqaSP","delay",void 0);var Y=function(t){function e(e){var n;return(n=t.call(this)||this).remains=0,n.duration=e,n.tickCb=n.tick.bind(a(n)),n}return o(e,t),e.prototype.tick=function(t){for(this.remains=t*this.timescale;this.remains>0;){this.elapsed+=this.remains;var e=Math.max(Math.min(this.elapsed/this.duration,1),0);if(this.events.update&&this.emitEvent(this.events.update,[this.remains,e]),this.elapsed<this.duration)return;if(this.remains=this.elapsed-this.duration,!this.loop||(this.loop.value--,0===this.loop.value))return void this.complete();this.resetAndStart(0)}},e}(W);c._RF.pop(),c._RF.push({},"b01f38li7VC6bFNG/cKcKjN","callback",void 0);var V=function(t){function e(e){var n;return(n=t.call(this)||this).callback=void 0,n.callback=e,n.tickCb=n.tick.bind(a(n)),n}return o(e,t),e.prototype.tick=function(t){this.elapsed+=t,this.duration=0,this.callback(),this.emitEvent(this.events.update,[t,1]),this.complete()},e}(W);c._RF.pop(),c._RF.push({},"be056lCrlxKULcHbf5gpJ/h","sequence",void 0);var $=function(t){function n(e){var n;if((n=t.call(this)||this).evtTick=new Set,n.tweens=[],n.index=0,n.cur=void 0,n.remains=0,n.tickCb=n.tick.bind(a(n)),e){n.tweens=new Array(e.length);for(var i=0;i<e.length;i++)e[i].setParent(a(n)),n.tweens[i]=[e[i]]}return n}o(n,t);var i=n.prototype;return i.loopInit=function(){this.index=0;for(var t,e=s(this.tweens);!(t=e()).done;)for(var n,i=t.value,r=s(i);!(n=r()).done;){n.value.reset()}},i.addTick=function(t){this.evtTick.add(t)},i.removeTick=function(t){this.evtTick.delete(t)},i.tick=function(t){this.state>=3||(this.remains=t*this.timescale,this.elapsed+=this.remains,this.localTick(this.remains))},i.localTick=function(t,e){if(this.cur||this.nextTween(),this.cur&&(this.evtTick.forEach((function(e){e(t)})),!0!==e&&this.events.update&&this.emitEvent(this.events.update,[t,0])),this.remains=t,this.cur){for(var n,i=s(this.cur);!(n=i()).done;){if(n.value.state!==Q)return}if(this.remains=this.cur[0].elapsed-this.cur[0].duration,this.events.stepEnd&&this.emitEvent(this.events.stepEnd,this.cur[0]),this.cur=void 0,this.index++,this.remains>.01)return void this.localTick(this.remains,!0)}if(!this.cur&&this.tweens.length===this.index){if(this.loop&&(this.loop.value--,0!==this.loop.value))return void this.resetAndStart(this.remains);this.complete()}},i.nextTween=function(){if(this.cur=this.tweens[this.index],this.cur){for(var t,e=s(this.cur);!(t=e()).done;){t.value.start()}this.events.stepStart&&this.emitEvent(this.events.stepStart,this.cur[0])}},i.append=function(t){return t.setParent(this),this.tweens[this.tweens.length]=[t],this},i.appendCallback=function(t){var e=new V(t);return e.setParent(this),this.tweens[this.tweens.length]=[e],this},i.appendInterval=function(t){var e=new Y(t);return e.setParent(this),this.tweens[this.tweens.length]=[e],this},i.prepend=function(t){return t.setParent(this),this.tweens.unshift([t]),this},i.prependCallback=function(t){var e=new V(t);return e.setParent(this),this.tweens.unshift([e]),this},i.prependInterval=function(t){var e=new Y(t);return e.setParent(this),this.tweens.unshift([e]),this},i.skip=function(e){if(this.state>=3)this.info(P,"Cannot skip this tween ",this.state);else{for(var n,i=s(this.tweens);!(n=i()).done;)for(var r,o=n.value,a=s(o);!(r=a()).done;){var u=r.value;0===u.elapsed&&this.emitEvent(this.events.stepStart,u),u.skip(e),this.emitEvent(this.events.stepEnd,u)}t.prototype.skip.call(this)}},i.kill=function(){if(this.state!==Z){for(var e,n=s(this.tweens);!(e=n()).done;)for(var i,r=e.value,o=s(r);!(i=o()).done;){i.value.kill()}t.prototype.kill.call(this)}else this.info(P,"Cannot kill this tween ",this.state)},i.join=function(t){return 0===this.tweens.length?this.append(t):(t.setParent(this),this.tweens[this.tweens.length-1].push(t),this)},i.onStepStart=function(t){return this.onEvent("stepStart",t)},i.onStepEnd=function(t){return this.onEvent("stepEnd",t)},e(n,[{key:"count",get:function(){return this.tweens.length}}]),n}(W);c._RF.pop(),c._RF.push({},"16d63UZsrhLpqp5vMG/r4DP","tween",void 0);var tt,et,nt,it=function(t){function e(e){var n;return(n=t.call(this)||this).obj=void 0,n.prop=[],n.f=void 0,n.t=void 0,n.cf=void 0,n.ct=void 0,n.steps=0,n.relative=!1,n.ease=void 0,n.p=0,n.v=0,n.remains=0,n.obj=e,n.tickCb=n.tick.bind(a(n)),n}o(e,t);var n=e.prototype;return n.init=function(t){this.obj=t,this.prop.length=0},n.validate=function(){if(!this.obj)throw new Error("undefined object");if(!this.parent)throw new Error("no ticker");this.ease||(this.ease=z[C]),this.check()},n.check=function(){this.cf||(this.cf={}),this.ct||(this.ct={});for(var t,e=s(this.prop);!(t=e()).done;){var n=t.value;this.f?(this.cf[n]=this.f[n],this.obj[n]=this.f[n]):this.cf[n]=this.obj[n],this.relative?this.ct[n]=this.obj[n]+this.t[n]:this.ct[n]=this.t[n]}},n.tick=function(t){if(!(this.state>=3))for(this.remains=t*this.timescale;this.remains>0;){this.elapsed+=this.remains,this.p=Math.max(Math.min(this.elapsed/this.duration,1),0),this.v=this.ease(this.p),this.yo&&(this.yo.original-this.yo.value)%2==1&&(this.v=1-this.ease(1-this.p)),0!==this.steps&&(this.v=Math.round(this.v*this.steps)/this.steps);for(var e,n=s(this.prop);!(e=n()).done;){var i=e.value;this.obj[i]=this.cf[i]+(this.ct[i]-this.cf[i])*this.v}if(this.events.update&&this.emitEvent(this.events.update,[this.remains,this.p]),this.elapsed<this.duration)return;if(this.remains=this.elapsed-this.duration,this.yo&&0!==this.yo.value)this.reverse(),this.resetAndStart(0),this.yo.value--;else{if(!this.loop||(this.loop.value--,0===this.loop.value))return void this.complete();this.check(),this.resetAndStart(0)}}},n.from=function(t){return this.f=t,this.updateProp(),this},n.to=function(t,e){return this.t=t,this.duration=e,this.updateProp(),this},n.toSpeed=function(t,e){var n=this;this.t=t;var i=Math.max.apply(Math,Object.keys(this.t).map((function(t){return Math.abs(n.obj[t]-n.t[t])})));return this.duration=i/e,this.updateProp(),this},n.updateProp=function(){if(this.obj){for(var t in this.t)this.t.hasOwnProperty(t)&&this.prop.push(t);this.prop.filter((function(t,e,n){return e===n.indexOf(t)}))}},n.setRelative=function(t){return this.relative=t,this},n.modify=function(t,e){for(var n,i=s(this.prop);!(n=i()).done;){var r=n.value;t.hasOwnProperty(r)&&(this.obj[r]+=t[r],e?this.ct[r]+=t[r]:this.cf[r]+=t[r])}},n.reset=function(e){if(this.yo){if((this.yo.original-this.yo.value)%2==1){var n=this.cf;this.cf=this.ct,this.ct=n,n=this.f,this.f=this.t,this.t=n;var i=(1-this.elapsed/this.duration)*this.duration;this.elapsed=Math.round(1e3*i)/1e3}this.yo.value=this.yo.original}t.prototype.reset.call(this,e)},n.reverse=function(){var t=this.cf;this.cf=this.ct,this.ct=t,t=this.f,this.f=this.t,this.t=t;var e=(1-this.elapsed/this.duration)*this.duration;this.elapsed=Math.round(1e3*e)/1e3,this.state===Q&&(this.reset(!0),this.start())},n.yoyo=function(t){return this.yo||(this.yo={original:0,value:0}),this.yo.original=t,this.yo.value=t,this},n.setSteps=function(t){return this.steps=t,this},n.toSequence=function(){if(!this.parent)throw new Error("parent ticker not defined");return(new $).setParent(this.parent).append(this)},n.setEasing=function(t){if(!(t in z))throw new Error("unknown easing method "+t);return this.ease=z[t],this},n.loopInit=function(){this.elapsed=0},e}(W);c._RF.pop(),c._RF.push({},"01235QbcsFBPrnCdBfe3Mg6","fatina",void 0),"undefined"!=typeof window&&(et=window.requestAnimationFrame,nt=window.cancelAnimationFrame);var rt=function(){function t(){var t=this;this.plugin={},this.loadedPlugins=[],this.eventCreated=[],this.settings={logLevel:M,safe:!0,smooth:!1,maxFrameDt:50,maxFrameNumber:40,maxDt:500},this.version="[AIV]{version}[/AIV]",this.time=0,this.dt=0,this.lastTime=0,this.initialized=!1,this.manager=void 0,this.defaultTicker=void 0,this.pulse=function(e,n){return function(t,e,n){var i=r({},{alpha:"alpha",duration:2e3},n||{}),s=J(e,i.alpha);return t.tween(s).to(L(i.alpha,0),i.duration/2).setEasing(F).toSequence().append(t.tween(s).to(L(i.alpha,1),i.duration/2).setEasing(F)).onKilled((function(){return s[q(i.alpha)]=1}))}(t,e,n)},this.scale=function(e,n){return j(t,e,n)},this.wobble=function(e,n){return function(t,e,n){var i={sinX:Math.PI};return j(t,e,r({},i,n||{}))}(t,e,n)},this.sonar=function(e,n){return function(t,e,n){var i=r({},{alpha:"alpha",scaleX:"scale.x",scaleY:"scale.y",amplitude:4,duration:2e3},n||{}),s=J(e,i.scaleX),o=J(e,i.alpha),a=q(i.scaleX),u=q(i.scaleY),h=q(i.alpha),c={x:s[a],y:s[u]},l=z[I];return t.tween({}).to({},i.duration).onUpdate((function(t,e){o[h]=1-z[R](e),s[a]=c.x+i.amplitude*l(e),s[u]=c.y+i.amplitude*l(e)})).onKilled((function(){o[h]=1,s[a]=c.x,s[u]=c.y}))}(t,e,n)},this.shake=function(e,n){return function(t,e,n){var i=r({},{posX:"position.x",posY:"position.y",amplitude:1.5,duration:2e3,bounce:10,friction:2},n||{}),s=J(e,i.posX),o=q(i.posX),a=q(i.posY),u={x:s[o],y:s[a]},h=.5+Math.random(),c=.5+Math.random();return t.tween({}).to({},i.duration).onUpdate((function(t,e){var n=Math.pow(1-e,i.friction),r=e*i.bounce%i.duration;s[o]=u.x+Math.sin(Math.PI+(r+h)*Math.PI*2)*i.amplitude*n,s[a]=u.y+Math.sin((r+c)*Math.PI*2)*i.amplitude*n})).onKilled((function(){s[o]=u.x,s[a]=u.y}))}(t,e,n)}}var n=t.prototype;return n.init=function(t){var e=this;return!this.initialized&&(this.manager||(this.manager=new K,this.manager.start(),this.defaultTicker=this.manager),"undefined"==typeof window||t||(this.info(x," %c Fatina - Tweening library for games ("+this.version+") https://github.com/kefniark/Fatina ","background: #222; color: #9fbff4; padding: 5px"),this.lastTime=-1,"loading"!==document.readyState?tt=et(this.updateLoop.bind(this)):document.addEventListener("DOMContentLoaded",(function(){tt=et(e.updateLoop.bind(e))}))),this.initialized=!0,!0)},n.setTimescale=function(t){this.init(),this.manager.setTimescale(t)},n.setDefaultTicker=function(t){this.defaultTicker=t},n.pause=function(){this.init(),this.manager.pause()},n.resume=function(){this.init(),this.manager.resume()},n.destroy=function(){this.manager&&this.manager.kill(),tt&&nt(tt),this.initialized=!1},n.update=function(t){this.initialized&&this.manager&&(this.manager.tick(t),this.time+=t)},n.tween=function(t){var e=new it(t);return this.addContext(e),e},n.sequence=function(t){var e=new $(t);return this.addContext(e),e},n.delay=function(t){var e=new Y(t);return this.addContext(e),e},n.transition=function(t){var e=this,n=new Map,i=function(t){var e=Object.keys(t);return e.sort(),e.join(",")},r=function(t){return e.delay(t).start()},s=function(r,s){void 0===s&&(s=300);var o=i(r),a=n.get(o);if(a){if(JSON.stringify(r)===JSON.stringify(a[0]))return a[1];a[1].kill(),n.delete(a[0])}var u=e.tween(t).to(r,s).setEasing(F).onComplete((function(){return n.delete(o)})).start();return n.set(o,[r,u]),u},o=function(r,s){void 0===s&&(s=1);var o=i(r),a=n.get(o);if(a){if(JSON.stringify(r)===JSON.stringify(a[0]))return a[1];a[1].kill(),n.delete(a[0])}var u=e.tween(t).toSpeed(r,s).setEasing(F).onComplete((function(){return n.delete(o)})).start();return n.set(o,[r,u]),u};return{delay:r,to:s,toSpeed:o,promiseDelay:function(t){return r(t).toPromise()},promiseTo:function(t,e){return void 0===e&&(e=300),s(t,e).toPromise()},promiseToSpeed:function(t,e){return void 0===e&&(e=1),o(t,e).toPromise()},kill:function(){n.forEach((function(t){return t[1].kill()})),n.clear()}}},n.setTimeout=function(t,e){var n=new Y(e).onComplete(t);return this.addContext(n),n.start()},n.setInterval=function(t,e){var n=new Y(e).onRestart(t).setLoop(-1);return this.addContext(n),n.start()},n.addContext=function(t){this.initialized||this.init(),t.setParent(this.defaultTicker),this.settings.logLevel===M&&this.settings.safe||t.setSettings(this.settings),this.emitCreated(t)},n.ticker=function(){this.initialized||this.init();var t=new K,e=t.tick.bind(t);return t.setParent(this.manager,e),this.manager.addTick(e),t.start(),this.emitCreated(t),t},n.updateLoop=function(t){if(this.dt=this.lastTime<0?16:this.dt+t-this.lastTime,this.dt>this.settings.maxDt&&(this.info(x,"dt too high "+Math.round(this.dt)+"ms. , Capped to "+this.settings.maxDt+"ms."),this.dt=this.settings.maxDt),this.settings.smooth)for(var e=0;this.dt>0&&e<this.settings.maxFrameNumber;){var n=Math.min(this.dt,this.settings.maxFrameDt);this.update(n),this.dt-=n,e++}else this.update(this.dt),this.dt=0;this.lastTime=t,tt=et(this.updateLoop.bind(this))},n.loadPlugin=function(t){t.init(this),this.loadedPlugins.push(t),this.info(x,"Plugin Loaded",t.name)},n.info=function(t,e,n){t>this.settings.logLevel||(n?console.log(e,n):console.log(e))},n.emit=function(t,e){if(!this.settings.safe)return t(e);try{t(e)}catch(t){console.warn(t)}},n.emitCreated=function(t){for(var e,n=s(this.eventCreated);!(e=n()).done;){var i=e.value;this.emit(i,t)}},n.addListenerCreated=function(t){this.eventCreated.push(t)},n.removeListenerCreated=function(t){var e=this.eventCreated.indexOf(t);-1!==e&&this.eventCreated.splice(e,1)},n.setLog=function(t){this.settings.logLevel=t},n.setSafe=function(t){this.settings.safe=t},e(t,[{key:"mainTicker",get:function(){return this.initialized||this.init(),this.manager}},{key:"elapsed",get:function(){return this.manager.elapsed}}]),t}();c._RF.pop(),c._RF.push({},"b5669MBq1REE5xDW5jzART/","index",void 0);var st,ot,at,ut,ht,ct,lt,pt,ft,dt,mt,vt,gt,yt,wt,_t,bt,kt,Et=new rt;c._RF.pop(),c._RF.push({},"e28d3LS++pKTbFMuDUya8CH","CollectorItem",void 0);var St,Tt,Mt,Pt,xt,Ct,Ft,It=f.ccclass,Ot=f.property,Rt=(st=Ot({group:{name:"Start"}}),ot=Ot({group:{name:"Mid"}}),at=Ot({group:{name:"Mid"}}),ut=Ot({group:{name:"Mid"}}),ht=Ot({group:{name:"Mid"}}),ct=Ot({group:{name:"End"}}),lt=Ot({group:{name:"End"}}),pt=Ot({group:{name:"End"}}),It((mt=u((dt=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,h(e,"startScale",mt,a(e)),h(e,"toMidDuration",vt,a(e)),h(e,"toMidEase",gt,a(e)),h(e,"toMidScale",yt,a(e)),h(e,"midStopDuration",wt,a(e)),h(e,"toEndDuration",_t,a(e)),h(e,"toEndEase",bt,a(e)),h(e,"toEndScale",kt,a(e)),e._start=d.ZERO,e._mid=d.ZERO,e._end=d.ZERO,e._delayToEnd=0,e}o(n,t);var i=n.prototype;return i.setConfig=function(t,e,n){this._start=t,this._mid=e,this._end=n},i.setDelayToEnd=function(t){this._delayToEnd=t},i.play=function(t){var e=this,n=function(t,n,i,r){var s={x:t.x,y:t.y};return Et.tween(s).to({x:n.x,y:n.y},i).setEasing(r).onUpdate((function(t,n){e.node.setWorldPosition(s.x,s.y,0)}))},i=function(t,n,i){var r={scale:t};return Et.tween(r).to({scale:n},i).onUpdate((function(t,n){e.node.setWorldScale(r.scale,r.scale,r.scale)}))},r=1e3*this.toMidDuration,s=1e3*(this.midStopDuration+this._delayToEnd),o=1e3*this.toEndDuration,a=n({x:this._start.x,y:this._start.y},{x:this._mid.x,y:this._mid.y},r,this.toMidEase),u=i(this.startScale,this.toMidScale,r),h=n({x:this._mid.x,y:this._mid.y},{x:this._end.x,y:this._end.y},o,this.toEndEase),c=i(this.toMidScale,this.toEndScale,r);Et.sequence().append(a).join(u).appendInterval(s).append(h).join(c).onStart((function(){e.node.setWorldPosition(e._start),e.node.setWorldScale(new d(e.startScale,e.startScale,e.startScale))})).onComplete((function(){null==t||t(e)})).start()},e(n,[{key:"Distance",get:function(){return d.distance(this._mid,this._end)}}]),n}(m)).prototype,"startScale",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),vt=u(dt.prototype,"toMidDuration",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),gt=u(dt.prototype,"toMidEase",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D}}),yt=u(dt.prototype,"toMidScale",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),wt=u(dt.prototype,"midStopDuration",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),_t=u(dt.prototype,"toEndDuration",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),bt=u(dt.prototype,"toEndEase",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R}}),kt=u(dt.prototype,"toEndScale",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),ft=dt))||ft);c._RF.pop(),c._RF.push({},"0b682UnqwhFTKqasBixsUea","ItemFactory",void 0);var Dt,Bt,At,Nt,Ut,zt,Jt,qt,Lt,jt,Gt=f.ccclass,Ht=f.property,Xt=f.menu,Qt=t("I",(St=Xt("Core/Component/ItemFactory"),Tt=Ht(v),Gt(Mt=St(((Ft=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,h(e,"itemTemplate",xt,a(e)),h(e,"poolInitialSize",Ct,a(e)),e._nodePool=null,e}o(n,t);var i=n.prototype;return i.onLoad=function(){if(null==this.itemTemplate)return this.enabled=!1,void console.warn("{0} item factory's template is null, please set in inspector".format(this.name));this._init()},i._init=function(){this._nodePool=new g(this.node.name+"_pool");for(var t=null,e=0;e<this.poolInitialSize;e++)t=this._createItem("item_{0}".format(n.ITEM_COUNT++)),this._nodePool.put(t);this.itemTemplate.active=!1},i._createItem=function(t){var e=y(this.itemTemplate);return e.name=t||"new_{0}".format(e.name),e},i.getItem=function(t){var e=null;return this.Size>0?e=this._nodePool.get():(e=this._createItem("item_{0}".format(n.ITEM_COUNT++))).active=!0,null!=t&&(e.parent=t),e},i.deleteItem=function(t){t.parent=null,this._nodePool.put(t)},e(n,[{key:"Size",get:function(){return this._nodePool.size()}}]),n}(m)).ITEM_COUNT=0,xt=u((Pt=Ft).prototype,"itemTemplate",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=u(Pt.prototype,"poolInitialSize",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mt=Pt))||Mt)||Mt));c._RF.pop(),c._RF.push({},"11216kHPgZN54aR353PPpqO","Collector",void 0);var Zt=f.ccclass,Kt=f.property;t("C",(Dt=Kt({group:{name:"Optional"},type:v}),Bt=Kt({group:{name:"Optional"},type:v}),Zt((Ut=u((Nt=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,h(e,"itemInterval",Ut,a(e)),h(e,"numberOfItems",zt,a(e)),h(e,"radius",Jt,a(e)),h(e,"distanceRate",qt,a(e)),h(e,"fromTarget",Lt,a(e)),h(e,"toTarget",jt,a(e)),e._itemFactory=null,e._items=null,e}o(e,t);var n=e.prototype;return n.onLoad=function(){this._itemFactory=this.node.getComponentInChildren(Qt)},n.playEffect=function(t,e,n){var i=this,r=t||this.fromTarget,s=e||this.toTarget;if(r&&s){var o=r.getWorldPosition(),a=s.getWorldPosition(),u=this._getCirclePoints(this.radius,o,this.numberOfItems,this.distanceRate);this._items=[];for(var h=0;h<this.numberOfItems;h++){var c=this._itemFactory.getItem(this._itemFactory.node).getComponent(Rt);c&&(c.setConfig(o,u[h],a),this._items.push(c))}this._items=this._items.sort((function(t,e){return t.Distance-e.Distance>0?1:t.Distance-e.Distance<0?-1:0}));var l=0;this._items.forEach((function(t,e){t.setDelayToEnd(i.itemInterval*e),t.play((function(t){i._itemFactory.deleteItem(t.node),++l>=i.numberOfItems&&n&&n()}))}))}},n._getCirclePoints=function(t,e,n,i){void 0===i&&(i=60);for(var r=[],s=Math.PI/180*Math.round(360/n),o=0;o<n;o++){var a=Math.random()*(i/2)*(Math.random()<.5?-1:1),u=e.x+(t+a)*Math.sin(s*o),h=e.y+(t+a)*Math.cos(s*o);r.unshift(new d(u,h,0))}return r},e}(m)).prototype,"itemInterval",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.02}}),zt=u(Nt.prototype,"numberOfItems",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Jt=u(Nt.prototype,"radius",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),qt=u(Nt.prototype,"distanceRate",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),Lt=u(Nt.prototype,"fromTarget",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=u(Nt.prototype,"toTarget",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=Nt))||At));c._RF.pop(),c._RF.push({},"c091f88jadOPJgbBaEMsCEX","MathHelper",void 0);t("r",(function(t,e){return Math.floor(Math.random()*(e-t+1)+t)})),t("b",(function(t,e){var n,i,r=(null==(n=t.toString().split(".")[1])?void 0:n.length)||0,s=(null==(i=e.toString().split(".")[1])?void 0:i.length)||0,o=Math.max(r,s);return Number((t+e).toFixed(o))})),t("s",(function(t,e){var n,i,r=(null==(n=t.toString().split(".")[1])?void 0:n.length)||0,s=(null==(i=e.toString().split(".")[1])?void 0:i.length)||0,o=Math.max(r,s);return Number((t-e).toFixed(o))})),t("m",(function(t,e){var n,i,r=(null==(n=t.toString().split(".")[1])?void 0:n.length)||0,s=(null==(i=e.toString().split(".")[1])?void 0:i.length)||0,o=Math.max(r,s);return Number((t*e).toFixed(o))}));c._RF.pop(),c._RF.push({},"18c669pFrdFELG40XXQ/sLK","PromiseHelper",void 0);t("u",(function(t){return new Promise((function e(n){t()?n():setTimeout((function(t){return e(n)}),400)}))})),t("w",(function(t){return new Promise((function(e){setTimeout((function(t){return e()}),1e3*t)}))})),t("a",(function(t,e,n,i){return t?new Promise((function(r){t.once(w.EventType.FINISHED,(function(){return r()})),t.play(e);var s=t.getState(e);s&&(i&&(s.repeatCount=i),n&&(s.speed=n))})):Promise.reject("animis null")}));c._RF.pop(),c._RF.push({},"46d10J6F6hJEYm+JDorKmB9","TweenHelper",void 0);t("c",(function(t,e,n,i,r){var s={num:t};return Et.tween(s).to({num:e},1e3*n).onUpdate((function(n,r){i(t+(e-t)*r)})).onComplete(r).start()})),t("z",(function(t,e,n,i){void 0===i&&(i="inOutSine");var r={num:t.scale.x};return Et.sequence().append(Et.tween(r).from({num:t.scale.x}).to({num:e},n/2*1e3).onUpdate((function(e,n){t.scale=new d(r.num,r.num,r.num)})).setEasing(i).yoyo(1)).setLoop(-1).start()})),t("d",(function(t,e){return Et.delay(1e3*t).onComplete(e).start()})),t("l",(function(t,e,n,i,r,s){var o=e-t+1,a=0;return Et.sequence([Et.delay(1e3*n)]).onStepStart((function(e){var n=t+a++%o;r(n)})).onStepEnd((function(e){null==s||s(t+a%o)})).setLoop(i).start()}));c._RF.pop()}}}));

} }; });